ed (произносится /iːdiː/) — первый стандартный текстовый редактор операционной системы UNIX.
Имеет командно-ориентированный интерфейс, поскольку создавался в те времена, когда мониторов не существовало и стандартным средством ввода-вывода был телетайп.

История и влияния
Редактор был написан Кеном Томпсоном на языке ассемблера PDP-11/20 в 1971 году. Многие функции ed пришли из QED, текстового редактора, созданного в alma mater Томпсона — Калифорнийском университете в Беркли. Кен был хорошо знаком с QED, и ранее портировал его на CTSS и Multics. В его версии QED впервые были реализованы регулярные выражения. Регулярные выражения появились также и в ed, хотя их реализация была произведена в меньшей степени, чем в QED.
Мощным продолжением идей ed является текстовый редактор sam, который был написан для Plan 9. Расширенная версия редактора, известная как ex, впоследствии послужила основой для vi.

Особенности
ed (или его аналог) доступен практически на всех UNIX-подобных операционных системах (и должен быть на системе, соответствующей Single UNIX Specification). Известен своей крайней лаконичностью, практически не даёт никакой обратной связи. Для примера: и сообщение об ошибке, и запрос на подтверждение того, что пользователь желает выйти без сохранения, выглядит как «?». Он не показывает результат изменений текста без требования. Старые версии (около 1981 года) даже не запрашивают подтверждение на выход без сохранения. Такая лаконичность была полезна на старых версиях UNIX, когда функцию консоли выполнял телетайп, модемы были медленными, а память — драгоценной. По мере совершенствования компьютерных технологий эти ограничения ослабли и визуальные текстовые редакторы стали нормой.
После появления экранно-ориентированных редакторов ed стал использоваться в первую очередь для автоматической обработки с помощью командной оболочки UNIX, например, для применения патчей. В этом смысле он является родоначальником семейства потоковых редакторов, таких как sed.
Командному режиму ed часто подражали другие текстовые редакторы. Например, Edlin в ранних версиях MS-DOS имел несколько похожий синтаксис. Текстовые редакторы во многих MUD-играх (к примеру, LPMud и его потомках) также имеют синтаксис, похожий на синтаксис ed.

Пример
Пример сессии в ed. Для ясности текст, выводимый редактором, выделен.

a
ed is the standard Unix text editor.
This is line number two.
.
2i
 
.
%l
ed is the standard Unix text editor.$
$
This is line number two.$
3s/two/three/
,l
ed is the standard Unix text editor.$
$
This is line number three.$
w text
65
q

В результате файл будет содержать следующий текст:

ed is the standard Unix text editor.
 
This is line number three.

Работа начинается с пустого файла, команда a добавляет текст (все команды ed состоят из одной буквы). Команда переводит редактор в режим добавления (англ. append mode) на текущей строке. Ввод завершается точкой на отдельной строке. Эти две введённые строки перед точкой сохраняются в буфере файла. Команда 2i переводит редактор в режим вставки (англ. insert mode) в строке номер 2 и вставляет введённый текст (просто пробел в данном случае) перед бывшей второй строкой, которая теперь становится третьей. Для всех команд можно использовать префикс с указанием изменяемой строки.
Общий синтаксис любых команд: [[адрес начальной строки,]адрес конечной строки]команда[параметры]. Пример переноса (англ. move) блока текста из последних четырёх строк файла и добавление его после строки номер 43: $-4,$m43. Символ $ обозначает последнюю строку.
В строке %l строчная буква l означает команду вывода. Префикс данной команды — диапазон вывода, в данном случае %, что является сокращением для 1,$. Это означает, что нужно вывести все строки с первой по последнюю.
После вставки пустой строки текст «This is line number two.» спускается на третью строку. Ошибку можно исправить командой замены 3s/two/three/. Вывод всего текста можно также произвести командой ,l (запятая здесь — синоним %).
w text сохраняет текст в файл, в ответ ed выводит количество записанных символов (65). q производит выход из редактора.

См. также
sed

Примечания
Ссылки
GNU ed
ed: edit text — команды и утилиты, The Single UNIX® Specification, выпуск 7 от The Open Group  (англ.)
Руководство из первого издания UNIX, описывающее ed
ed(1): text editor — страница справки man по пользовательским командам Plan 9  (англ.) — прямой потомок оригинального ed
A History of UNIX before Berkeley раздел 3.1 описывает историю ed