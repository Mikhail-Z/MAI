Z-Wave является запатентованным беспроводным протоколом связи, разработанным для домашней автоматизации, в частности для контроля и управления в жилых и коммерческих объектах. Технология использует маломощные и миниатюрные радиочастотные модули, которые встраиваются в бытовую электронику и различные устройства, такие как осветительные приборы, приборы отопления, устройства контроля доступа, развлекательные системы и бытовую технику.

Обзор
Z-Wave — это беспроводная радио технология с низким энергопотреблением, разработанная специально для дистанционного управления. В отличие от Wi-Fi и других IEEE 802.11 стандартов передачи данных, предназначенных в основном для больших потоков информации, Z-Wave работает в диапазоне частот до 1 ГГц и оптимизирована для передачи простых управляющих команд с малыми задержками (например, включить/выключить, изменить громкость, яркость и т. д.). Выбор низкого радиочастотного диапазона для Z-Wave обусловлен малым количеством потенциальных источников помех (в отличие от загруженного диапазона 2,4 ГГц, в котором приходится прибегать к мероприятиям, уменьшающим возможные помехи от работающих различных бытовых беспроводных устройств — Wi-Fi, ZigBee, Bluetooth).
Z-Wave предназначен для создания недорогой и энергоэффективной потребительской электроники, в том числе устройств на батарейках, таких как пульты дистанционного управления, датчики дыма, температуры, влажности, движения и других датчиков безопасности.
По состоянию на 2018й год, Z-Wave поддерживается более чем 700 производителями по всему миру и покрывает широкий спектр потребительских и коммерческих продуктов в США, Европе и Азии. Нижние слои протокола, MAC и PHY, описываются ITU-Т G.9959 и полностью обратно совместимы. Радио чипы Z-Wave поставляются компаниями Sigma Designs и Mitsumi. Отличительной особенностью Z-Wave является то, что все эти продукты совместимы между собой. Совместимость подтверждается процессом сертификации Z-Wave или Z-Wave Plus.
В основе решения Z-Wave лежит ячеистая сеть (mesh сеть), в которой каждый узел или устройство может принимать и передавать управляющие сигналы другим устройствам сети, используя промежуточные соседние узлы. Mesh это самоорганизующаяся сеть с маршрутизацией, зависящей от внешних факторов — например, при возникновении преграды между двумя ближайшими узлами сети, сигнал пойдет через другие узлы сети, находящиеся в радиусе действия.
Некоторые производители продуктов Z-Wave предлагают решения с открытыми исходными кодами или открытым простым API. С 2010 года активно развивается проект под названием Open-ZWave, который предоставляет возможность создавать контроллеры Z-Wave без приобретения SDK от Sigma Designs.Разработчик протокола Z-Wave — датская компания Zensys, которая с 2008 года принадлежит американской компании Sigma Designs.

Z-Wave Plus
В 2013 году Sigma Designs и Z-Wave Alliance представили расширение протокола Z-Wave, названное Z-Wave Plus.Фактически, это обычный протокол Z-Wave, дополненный списком более строгих требований по сравнению с обычными требованиями сертификации Z-Wave. Z-Wave Plus полностью включает в себя все требования Z-Wave. Новые требования направлены на улучшение совместимости устройств на рынке.

Основные требования Z-Wave Plus по сравнению с Z-Wave
время жизни на элементах питания на 50 % больше
дальность действия на 67 % больше
пропускная способность на 250 % больше (100 кбит/с)
обязательное использование трёх каналов радио частот для большей надёжности
режим Plug-n-Play благодаря обязательному использованию Network-wide Inclusion
самолечение сети благодаря обязательному использованию «исследовательского кадра» (Explorer Frame)
стандартизованный формат для обновления устройств по воздуху (OTA)
контроллеро-центрированный подход (все события помимо прочего приходят на контроллер)
обязательная первая группа Ассоциаций для отчётов контроллеру (группа ``Life Line``)
обязательное упоминание Z-Wave Plus при продаже
стандартизованное описание режимов включения/исключения и других специфических для Z-Wave терминов в инструкциях

Z-Wave Alliance
Z-Wave Альянс — это открытый консорциум, объединяющий более 700 (по состоянию на 2018 год) независимых производителей, которые создают продукцию и услуги на основе Z-Wave. Члены Z-Wave Alliance — это лидеры отрасли всего спектра рынка домашней автоматизации: разработчики программного обеспечения и крупнейшие дистрибьютеры оборудования Z-Wave, операторы связи, управляющие компании и магазины электроники. Общая цель консорциума — координация направления развития протокола Z-Wave, организация выставок и маркетинговых мероприятий, маркетинговая поддержка членов альянса, контроль за сертификацией устройств Z-Wave. 
Основные члены включают ADT, GE/Jasco, Evolve, Ingersoll-Rand, Linear, FAKRO и Sigma Designs. В России также есть производители, официальные представители и инсталляторы Z-Wave Alliance:  DEFARO Z-Wave.Me, ИМАГ, Tronic.По состоянию на 2018, на рынке представлено более 2700 различных сертифицированных продуктов.

Настройка сети
Z-Wave использует ячеистую топологию сети и можно создать сеть из одного управляемого и одного управляющего устройства. Дополнительные устройства могут быть добавлены в любое время, так же как и несколько управляющих контроллеров, в том числе традиционные ручные контроллеры, управляющие ключи-брелоки, настенные переключатели и ПК приложения, предназначенные для управления и контроля Z-Wave сетью.
Устройства должны быть «включены» в Z-Wave сеть, прежде чем ими можно будет управлять. Этот процесс, известный как «сопряжение» («pairing») и «добавление» («adding»), обычно достигается путём нажатия последовательности клавиш на контроллере и устройстве, которое добавляется в сеть. Эта последовательность должна быть выполнена только один раз, после чего устройство всегда признается контроллером. Устройства могут быть удалены из Z-Wave сети аналогичным процессом нажатия кнопок.
Этот процесс подключения повторяется для каждого устройства в системе. Контроллер запоминает мощность сигнала устройства во время процесса подключения, таким образом, архитектура предполагает, что устройства должны быть расположены в окончательном месте, прежде чем они будут добавлены в систему. Однако, Z-Wave предполагает реконфигурацию сети - запуск этой процедуры на контроллере позволяет перераспределить маршруты и улучшить связь между устройствами, расположенными далеко от контроллера.

Топология и маршрутизация
Каждая Z-Wave сеть определяется идентификатором сети (Network ID) и может включать до 232 узлов, определяемых идентификатором устройства (Node ID).
Network ID (он же Home ID) является общим идентификатором всех узлов, принадлежащих к одной логической Z-Wave сети. Network ID имеет длину 4 байта (32 бит) и присваивается каждому устройству через основной (primary) контроллер, когда устройство подключается к сети. Узлы с различными идентификаторами сети не могут общаться друг с другом.
Node ID представляет собой адрес одного узла в сети. Node ID имеет длину 1 байт (8 бит). Два узла не могут иметь одинаковый Node ID. Таким образом, вы имеете полный контроль над вашей Z-Wave сетью.Z-Wave использует ячеистую топологию сети с маршрутизацией сообщений от источника (англ. Source routing) и имеет один основной контроллер и ноль или более вторичных контроллеров, которые управляют маршрутизацией и безопасностью. Устройства могут общаться друг с другом с помощью промежуточных узлов и обходить препятствия или мертвые радио-зоны, которые могут возникать. Сообщение от узла A к узлу C может быть успешно доставлено, даже если два узла расположены не в радиус действия связи, это осуществляется с помощью третьего узла B, который может взаимодействовать с узлами А и С. Если предпочтительный маршрут недоступен, отправитель будет пытаться связаться другими маршрутами, пока путь не будет найден к узлу «C». Таким образом, Z-Wave сеть может иметь радиус передачи гораздо больший, чем дальность передачи одного узла. Однако, из-за этих прыжков (hops) может быть получена небольшая задержка между командой управления и желаемым результатом. Для того, чтобы Z-Wave устройства имели возможность маршрутизировать данные ими не запрашиваемые, они не могут находиться в спящем режиме. Таким образом, устройства с питанием от батареек не предназначены в качестве устройств ретрансляции. Z-Wave сеть может включать до 232 устройств с возможностью расширения (bridging) сети, если требуется ещё несколько устройств.
В более поздних версиях Z-Wave, был введен новый механизм исследования топологии сети. Так называемые исследовательские кадры («explorer frames») могут использоваться для восстановления нарушений маршрутов, вызванных перемещением или удалением устройств. Для передачи кадров исследования сети используется принцип дерева принятия решений с отсечением ветвей (англ. pruning), и, следовательно, информация должна достичь целевого устройства, даже без знания топологии передатчиком. Исследовательские кадры используются в качестве последнего варианта на передающем устройстве, когда все другие попытки маршрутизации не удались.

Радио спецификация
Пропускная способность: 9.6, 40 или 100 кбит/с с полной совместимостью
Модуляция: GFSK, Manchester channel encoding и NRZ
Радиус действия: приблизительно 30 метров в условиях прямой видимости; в помещении уменьшается в зависимости от формы и материала стен. Также зависит от вида антенны.
Частотный диапазон: 869.0 МГц (Россия); 908.42МГц (Соединенные Штаты); 868.42 МГц (Европа и страны CEPT); 919.82 МГц (Гонконг); 921.42 МГц (Австралия / Новая Зеландия)..В Европе частотная полоса 868 МГц имеет ограничение в 1 % рабочего цикла, таким образом, Z-Wave устройство может передавать только 1 % времени. Z-Wave устройства могут находиться в режиме энергосбережения и активны только 0,1 % времени, таким образом существенно снижая потребление энергии.

Микросхемы Z-Wave
Существует несколько поколений чипов Z-Wave:

1-ое поколение (серия 100), 2001 год, уже не найти, базировался на Atmel, 9.6 кбит/с
2-ое поколение (серия 200), 2005 год, появление 40 кбит/с, больше памяти и периферии, был полностью вытеснен 100 % совместимым 3-им поколением
3-ое поколение (серия 300), 2006 год, улучшение энергопотребления и мощности излучения
4-ое поколение (серия 400), 2008 год, значительное улучшение функциональности и периферии, увеличение памяти, появление полосы 100 кбит/с, OTP
5-ое поколение (серия 500), 2013 год, незначительное улучшение функциональности и периферии, увеличение памяти
6-ое поколение не выпускалось
7-ое поколение (серия 700), 2018 год, базируется на 32-битном микропроцессоре семейства ARM Cortex-M, память 8 Кб ОЗУ, 64 Кб ПЗУ (перезаписываемое), полностью поддерживает новую версию спецификации Z-Wave Plus и расширения безопасности Z-Wave S2 Security, улучшены показатели энергопотребления и дальности связиВсе микросхемы были доступны в варианте SoC или в варианте модулей. Модули содержат SoC и частотные фильтры, что существенно упрощает создание устройств.
Модули ZM2101, ZM3202, ZM4102 и ZM5202 являются 100 % совместимыми по расположению и функциональности ног, что делает возможным лёгкое обновление существующих устройств. Аналогично, совместимы модули ZM4101 и ZM5101.
На данный момент Sigma Designs предлагает два варианта микросхем и три варианта модулей.Так вышло, что все четные поколения устройств Z-Wave оказывались неудачными. Серия 200 зарекомендовала себя как самая «глючная». Баги в ней вылавливали все время ее существования. Поэтому с появлением полностью совместимой серии 300 она быстро вытеснила своих предшественников. Серия 400 отметилась тем, что в ней вместо постоянной памяти с возможностью многократной перезаписи (EEPROM) была использована память с пережигаемыми перемычками (OTP), записывать которую можно только однократно. Это, конечно, позволяло немного сэкономить на цене модуля, но привело к тому, что обновлять программное обеспечение этих модулей стало невозможно. Разработчики и производители в связи с этим испытывали существенные неудобства и в следующей серии 500 перезаписываемое ПЗУ вернули назад. А вот серия 600 вообще не вышла из-за неудач в процессе разработки. Про появившуюся относительно недавно серию 700 пока нет авторитетных отзывов и можно только надеяться, что она сохранит сложившуюся традицию успешных нечетных поколений.

Безопасность технологии Z-Wave
До 2008 года спецификация Z-Wave не содержала никаких упоминаний о способах защиты каналов связи, и все устройства Z-Wave общались в открытую. То есть любая сеть Z-Wave была совершенно доступна для вторжения извне — строго говоря, ее даже не нужно было как-то взламывать. В 2008 в спецификацию было введено понятие шифрования (Z-Wave S0 Security), а в качестве алгоритма шифрования был выбран очень надежный алгоритм AES-128. Как казалось разработчикам, они полностью решили важнейшую проблему, которая серьезно сдерживала распространение устройств Z-Wave и создавала им плохой образ в глазах потребителей. Но они не учли деталей.
В спецификацию Z-Wave S0 Security на этапе разработки заложили «мину», которая взорвалась в 2013 году когда новые устройства уже массово присутствовали на рынке. Оказалось, что в момент первичной инициализации связи перед началом сеанса связи устройству передается ключ шифрования. И этот «ключ» представляет из себя 128 нулей. Так что злоумышленнику легко подслушать этот первичный сеанс (ключ которго заранее известен) и затем отслеживать все изменения ключей шифрования, которые могут происходить в следующих сеансах связи. Таким образом, любая сеть, состоящая из множества устройств Z-Wave оказывается уязвимой и легко взламывается с помощью простейшего оборудования.
История наделала много шума в прессе, изрядно подпортив репутацию Z-Wave. Чтобы решить проблему спецификация шифрования была доработана, и в 2016 году появилась ее улучшенная версия Z-Wave S2 Security, в которой для первичной выдачи ключа используется алгоритм открытого распределения ключей Диффи-Хеллмана

Преимущества и недостатки
Преимущества
4,3 млрд зашифрованных кодов безопасности для предотвращения клонирования;
Используемый сетевой протокол обеспечивает надежность;
Удаленный мониторинг (через Интернет или мобильный телефон);
Не требует прокладки новых кабелей;
Масштабируем и расширяем в любой момент новыми устройствами;
Может быть построен с помощью программного обеспечения с открытым исходным кодом;
Гарантирует совместимость со всеми устройствами от разных производителей, имеющих соответствующий логотип Z-Wave.

Недостатки
Хотя технология Z-Wave является интересным решением, особенно для уже построенных домов, низкая скорость передачи данных исключает передачу изображений, звука и других данных;
Кроме того, для решений где требуется более 30 устройств, Z-Wave начинает становиться более дорогим, чем кабельные системы;
Из-за своих конструктивных особенностей, такие системы имеют ограниченные масштабы и радиус действия, и требуют использования повторителей или даже кабелей.

См. также
ZigBee — спецификация сетевых протоколов регламентированных стандартом IEEE 802.15.4 более популярная в Европе
6LoWPAN — IPv6 поверх маломощных беспроводных персональных сетей
X10 — открытый индустриальный стандарт
EnOcean — проприентарная беспроводная технология с низким уровнем энергопотребления для устройств без батареек
INSTEON — двух-сетевая (радиочастотная и передача через линии питания) технология
ONE-NET (англ. One-Net) — первый открытый протокол беспроводной сети передачи данных
англ. DASH7 — Active RFID standard
англ. MyriaNed — low power, biology inspired, wireless technology
англ. OSIAN — Open Source IPv6 Automation Network

Примечания
Ссылки
Sigma Designs, владелец технологии Z-Wave
Z-Wave Альянс, открытый консорциум из более чем 700 производителей
О протоколе Z-Wave, библиотека умного дома Алексея Ровдо