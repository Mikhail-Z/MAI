Thunderbolt (с англ. — «раскат грома») — аппаратный интерфейс, ранее известный как Light Peak, разработанный компанией Intel в сотрудничестве с Apple. Служит для подключения различных периферийных устройств к компьютеру с максимальными скоростями передачи данных около 10 Гбит/с по медному проводу и 20 Гбит/с при использовании оптического кабеля.
Thunderbolt комбинирует интерфейсы PCI Express (PCIe) и DisplayPort (DP) в одном кабеле. Допускается подключение к одному порту до шести периферийных устройств путём их объединения в цепочку.

Описание
Интерфейс Thunderbolt был разработан компанией Intel в сотрудничестве с Apple. Торговая марка Thunderbolt была зарегистрирована Apple, но позже была передана компании Intel. Полные права принадлежат Intel. Первым устройством, где был применён данный интерфейс, стал ноутбук MacBook Pro компании Apple, который был анонсирован 24 февраля 2011 года.
Thunderbolt изначально разрабатывался для объединения мобильных устройств, ноутбука и настольного компьютера с использованием меньшего числа кабелей. В стандарте был предложен универсальный разъём для дисплеев и внешних устройств хранения. Передаваемая по Thunderbolt 1 и 2 мощность электропитания составляет 10 Ватт — больше, чем 4,5—5 Ватт в стандартном USB 3.0.
Интерфейс Thunderbolt объединяет протоколы PCI Express (PCIe) и DisplayPort (DP) в один последовательный сигнал и предоставляет постоянное напряжение по тому же кабелю. Контроллеры Thunderbolt мультиплексируют один или более каналов данных от подключённых к ним устройств PCIe или DisplayPort для передачи через один дуплексный канал Thunderbolt, затем демультиплексируют их для использования устройствами PCIe или DP на другом конце. Один порт Thunderbolt поддерживает до шести устройств Thunderbolt, подключаемых через концентраторы (хабы) или цепочкой (daisy chain).
Несколько устройств могут использоваться в качестве мониторов, но их количество не может превышать количества источников сигнала DP.
Монитор, использующий настоящий разъём MDP, может быть подключён к концу Thunderbolt-цепочки, так как Thunderbolt совместим с устройствами, поддерживающими DP 1.1a. При подключении DP-совместимого устройства к порту Thunderbolt предоставляется сигнал DP c 4 линиями (lane) и скоростью не более 5,4 Гбит/с на линию Thunderbolt. При соединении с устройством Thunderbolt скорость передачи данных по каждой линии составляет 10 Гбит/с, 4 линии Thunderbolt сконфигурированы как 2 полнодуплексных 10 Гбит/с канала, каждый состоит из линии на приём и линии на передачу.
Интерфейс Thunderbolt может быть реализован на PCIe-видеокартах, у которых есть доступ к разъёму DP и подключению по шине PCIe, или на материнской плате новых компьютеров со встроенным видео, таких, как MacBook Air.
Интерфейс изначально разрабатывался для работы с оптическими кабелями, разработанными партнёрами Intel и в лаборатории Intel’s Silicon Photonics. В это время технология была известна под названием Light Peak. В 2011 технология была переименована в Silicon Photonics Link. Однако было обнаружено, что обычное медное проводное соединение могло предоставить требуемую пропускную способность в 10 Гбит/с на каждую линию по более низкой цене. Оптические кабели Thunderbolt были заявлены в середине апреля 2012 года компанией Sumitomo Electric Industries.

Кабель
Конструктивно в интерфейсе Thunderbolt версий 1 и 2 используется тот же разъём, что и Mini DisplayPort (MDP). MDP электрически совместим с полноразмерным DisplayPort, но использует меньший по размеру разъём, на котором отсутствует защёлка.
Активные кабели Thunderbolt содержат специальные интегральные микросхемы внутри корпуса разъёма. 
У кабеля есть пять проводов: один для управления и две однонаправленных пары, одна для входящего и вторая для исходящего трафика.

В интерфейсе Thunderbolt 3-й версии используется разъём USB Type-C.

История
Введение
Компания Intel представила технологию Light Peak на форуме разработчиков Intel (IDF) в 2009 году, используя прототип материнской платы компьютера Mac Pro, с которого через 30-метровый оптический кабель передавалось два видеопотока с разрешением 1080p, Ethernet и подключался внешний накопитель информации. Интерфейс использовал модифицированные разъёмы USB, контроллер был реализован на карте PCI Express с двумя оптическими модулями, предоставляющие сигнал для четырёх портов.
На выставке Intel заявил, что системы, оборудованные Light Peak, могут появиться уже в 2010 году. Видео, опубликованное Intel на сайте YouTube, демонстрировало взаимодействие интерфейса Light Peak с HD-камерами, ноутбуками, док-станциями и HD-мониторами. Джейсон Зиллер, глава подразделения Intel Optical I/O Program Office, также продемонстрировал внутренние компоненты технологии под микроскопом и процесс передачи данных на осциллографе.
4 мая 2010 года в Брюсселе Intel продемонстрировала ноутбук с разъёмом Light Peak, указывая, что контроллер возможно сделать небольшим для встраивания в компактные устройства. Была продемонстрирована одновременная отправка двух HD-видеопотоков с этого ноутбука, из чего можно сделать вывод, что, по крайней мере, некоторая часть программного обеспечения/прошивки и протоколов была функциональна. На той же демонстрации представители Intel сказали, что производство контроллеров может начаться в конце 2010 года.
В сентябре 2010 некоторые ранние коммерческие прототипы от производителей демонстрировались на Intel Developer Forum 2010.

Медь или оптика
Первоначально технология была задумана оптическая, но Intel перешёл на электрические соединения, чтобы уменьшить затраты и предоставить до 10 Вт питания для подключённых устройств.
В 2009 году представители Intel сказали, что компания «работает над комбинированием оптоволокна и медных проводов, чтобы Light Peak мог использоваться для питания устройств, подключённых к ПК».
В 2010 году Intel сказала, что первоначальная их цель была в том, чтобы «иметь одну единственную технологию», которая позволила бы иметь «электрические сигналы USB 3.0 […] и комбинированную передачу питания для USB 3.0 или 4.0». Заявлялось, что разъёмы должны выдерживать по 7 тысяч циклов подключения, кабели имеют столь небольшой радиус изгиба, что могут быть буквально завязаны узлом, и волокно имеет высокую прочность. Ожидалось, что кабели Light Peak будут не дороже кабелей HDMI.
В январе 2011 Дэвид Перлматтер из Intel рассказал изданию Computerworld, что начальные реализации Thunderbolt будут использовать медные кабели без оптоволокна. «Медная технология вышла очень хорошей, на удивление лучше, чем мы думали.» — сказал он. Одно из важных преимуществ медного кабеля — возможность передачи питания. Заключительный стандарт Thunderbolt определяет допустимую нагрузку в 10 Вт на каждый порт.
Intel и её партнёры всё ещё разрабатывают оптические кабели и устройства Thunderbolt. Оптоволокно позволит создавать кабели длиной до десятков метров, но без передачи электропитания. Планируется использование пары волокон диаметром 62,5 микрона и ИК-сигналов с максимальным расстоянием передачи в 100 метров. Преобразование электрического сигнала к оптическому будет встроено в сам кабель, поэтому он будет совместим с нынешними разъёмами в формате MDP, но в будущем Intel надеется встроить оптический трансивер в ПК.

Появление на рынке
Ходили слухи, что в начале 2011 года обновление MacBook Pro будет включать в себя какой-то новый порт данных, и большая часть людей предположила, что это будет Light Peak (Thunderbolt). В то время не было никакой информации о физической реализации, на макетах стали показывать систему, подобную более ранним демонстрационным примерам Intel, использующим комбинированный порт USB/Light Peak. Незадолго до выпуска новых машин USB — IF объявили, что они не смогли бы сделать это, утверждая, что USB не был открыт для модификации таким образом.
Тем не менее, в июле 2011 Sony выпускает свой Vaio Z21 ноутбук с «Power Media Dock» с Thunderbolt на оптике, чтобы соединиться с внешней видеокартой, используя комбинированный порт, который ведёт себя не только как USB, но и также включает оптическое взаимосвязанное соединение, требуемое для Thunderbolt. Другие реализации этой технологии начались в 2012 с платами для настольных компьютеров, предлагающими доступное взаимосвязанное соединение.
Несмотря на эти комментарии и предположения, введение Apple стало главным сюрпризом, когда выяснилось, что порт был основан на MDP, а не USB. Поскольку система была описана, решение проблемы дисплея стало ясно: контроллеры Thunderbolt мультиплексируют данные от существующих систем DP с данными от порта PCIe в один кабель. Более старые дисплеи, использующие DP 1.1a или более ранние версии, должны быть расположены в конце цепи устройств Thunderbolt, но «родные» дисплеи могут быть размещены в любом месте вдоль линии. Устройства Thunderbolt могут перемещаться куда угодно по цепи. В этом случае интерфейс Thunderbolt совместно использует отношение с более старой системой ACCESS.bus, которая использует разъём дисплея, чтобы поддерживать низкоскоростную шину.
Компания Apple объяснила, что 6 объединённых в последовательно соединённую цепь периферийных устройств, поддерживающихся портом Thunderbolt, должны находиться в конце цепи.
В феврале 2011 Apple представила свою новую линейку ноутбуков MacBook Pro и объявила, что коммерческим названием технологии будет Thunderbolt и она будет впервые использована на этих машинах для ввода-вывода.
В мае 2011 года компания Apple анонсировала новую линейку iMac, включавшую в себя интерфейс Thunderbolt.
Порт Thunderbolt на новом Mac находится в том же расположении относительно других портов и поддерживает те же физические размерности, как предшествующий разъём MDP. Основным видимым различием Mac, оборудованным Thunderbolt, является символ Thunderbolt рядом с портом.
Стандарт DisplayPort частично совместим с Thunderbolt, поскольку оба совместно используют физически совместимый разъём MDP от Apple. Целевой режим отображения на iMac требует, чтобы кабель Thunderbolt принял входящий видеосигнал от другого компьютера с поддержкой Thunderbolt. DP-мониторы должны быть последними (или единственными) устройствами в цепи устройств Thunderbolt.
Компания Intel объявила, что комплект разработчика будет выпущен во втором квартале 2011 года, в то время как производители аппаратного обеспечения указали, что они добавят поддержку тестирования и разработки устройств Thunderbolt. Комплект разработчика предоставляется только по запросу.

Периферийные устройства
В то время как Apple выпустила свой первый компьютер с функцией поддержки интерфейса Thunderbolt в начале 2011 года, потребовалось некоторое время, чтобы захватить рынок периферийных устройств.
Производитель устройств хранения данных Promise Technology был первой компанией, которая выпустила RAID-системы хранения Pegasus R4 (4 диска) и Pegasus R6 (6 дисков), однако они были сравнительно дороги для среднего потребителя. Кроме того, после массовых наводнений в Таиланде, где производился ряд компонентов для значительной доли жёстких дисков, сильно уменьшилось их производство, так что в целом наряду со многими продуктами на рынке, после первоначального релиза розничные цены также выросли, не способствуя быстрому внедрению данных устройств.
Кроме того, потребовалось некоторое время для других производителей устройств хранения данных, чтобы выпустить продукты с большей частью фокусировки на устройства хранения меньшего размера, с упором на скорость, а не крупномасштабными потребностями хранения данных. Многие из этих устройств были размером в 1 Тб, в некоторых также был в наличии SSD для быстрого внешнего доступа к данным вместо стандартного жёсткого диска, главным образом нацеленного на профессионального пользователя. Обратная совместимость с компьютерами, не оборудованными Thunderbolt, также была проблемой, поскольку большинство устройств хранения обладало только двумя портами Thunderbolt для того, чтобы объединить до шести устройств в цепь вместе от одного порта.
Другие компании фокусировались на предоставлении интерфейсных решений, позволяя более старым, обычно более медленным, интерфейсам быть направленными через единственное соединение Thunderbolt, подразумевая, что только один провод Thunderbolt должен был быть соединён с компьютером, а не многими проводами для каждого интерфейса. Точно так же в начале июля 2011 года Apple выпускает обновлённый монитор Apple Thunderbolt Display, который поддерживает многие более старые интерфейсы, включая Ethernet, фактически делая его первым продуктом, который будет в состоянии использовать его в качестве концентратора.
С середины 2012 компании-производители LaCie и Drobo начали включать USB 3.0 в дополнение к Thunderbolt для своих устройств.

Безопасность
Так как интерфейс Thunderbolt расширяет шину PCI Express, которая является основной шиной расширения в существующих системах, он позволяет получить низкоуровневый доступ к системе. Устройства PCI должны иметь неограниченный доступ к памяти и могут таким образом поставить под угрозу безопасность хранения данных. Эта проблема существует со многими высокоскоростными шинами расширения, включая PC Card, ExpressCard и FireWire.
Злоумышленник может, например, намеренно настроить устройство, использующее Thunderbolt. При подключении к компьютеру устройство, имея прямой и беспрепятственный доступ к системной памяти и другим устройствам, в состоянии обойти практически все меры безопасности ОС и имеет возможность читать ключи шифрования или устанавливать вредоносные программы.
Некоторые процессоры Intel, начиная с введения микроархитектуры Nehalem (бренды Core i3, Core i5, Core i7 и более поздние) поддерживают аппаратную виртуализацию ввода-вывода, IOMMU. Это позволяет операционной системе изолировать устройство в своём собственном адресном пространстве виртуальной памяти (аналогичный способ изоляции процессов друг от друга, использующих блок управления памятью). Таким образом, можно препятствовать получению доступа к несанкционированным частям памяти. Однако эта функция обычно не используется, за исключением её начальной цели — предоставить доступ передачи гостевых виртуальных машин к определённым аппаратным средствам.

Thunderbolt 2
В 2013 году был представлен обновлённый интерфейс  Thunderbolt 2. На физическом уровне он идентичен Thunderbolt 1, используются такие же кабели и разъёмы, сохранена обратная совместимость. На логическом уровне была добавлена возможность агрегации каналов, и теперь два отдельных канала 10 Гбит/с могут объединяться в один логический канал со скоростью 20 Гбит/с.
Thunderbolt 2 использовался в Apple MacBook Pro Retina конца 2013 года (представлен 22 октября 2013 года).

Thunderbolt 3
Контроллер Intel Thunderbolt 3  (кодовое имя Alpine Ridge) увеличивает максимальную пропускную способность в 2 раза, до 40 Гбит/с (5 ГБ/с), имеет меньшее энергопотребление и позволяет подключать до двух мониторов с разрешением 4K, либо один с разрешением 5K (вместо одного 4K для более ранних версий стандарта). Новый контроллер будет поддерживать PCIe 3.0 и протоколы HDMI 2.0, DisplayPort 1.2 (до 30 Гц 4K). Thunderbolt 3 представляет собой порт, совместимый с USB 3.1, выполнен с разъёмом USB Type-C. Совместимость с более ранними вариантами интерфейса будет обеспечиваться с помощью переходников.Intel предложит два варианта контроллера Thunderbolt 3 — один будет использовать PCI Express x4 и предоставит два порта Thunderbolt 3, второй использует PCI Express x2 и имеет лишь один порт Thunderbolt 3. Первый будет использоваться в Mac Pro (2-го поколения) и Retina MacBook Pro, а второй — в более дешёвых Mac Mini и MacBook Air.
Поддержка Thunderbolt 3 ожидается в чипсетах для платформы Skylake.Thunderbolt 3 станет частью стандарта USB4, так как компания Intel передала все права на него USB Implementers Forum.

Стоимость
Первые двухметровые кабели Thunderbolt от Apple летом 2011 года стоили 49 долларов США. 
В январе 2013 года компания Apple снизила цены на свои кабели до 39 долларов. Apple также объявила о наличии более короткого полуметрового кабеля за 29 долларов США.
В июне 2012 года компании Apple начала продавать технологию Thunderbolt для гигабитного Ethernet-устройства за 29 долларов США.
В третьем квартале 2012 года другие производители начали выпускать кабели различной длины, включая максимально поддерживаемую длину 3 метра, в то время как те, кто выпускал системные блоки, начали включать кабель Thunderbolt в комплект.

Контроллеры
Микросхемы контроллеров Thunderbolt выпускаются компанией Intel:

Эти микросхемы встраиваются в периферийные устройства и некоторые материнские платы.
Существуют контроллеры Thunderbolt, выполненные в виде платы расширения с интерфейсом PCIe x4, однако они требуют поддержки со стороны материнской платы.

Факты
Acer, одной из первых начавшая внедрять Thunderbolt, первой же и отказалась от него в пользу USB 3.0.

См. также
USB
IEEE 1394

Примечания
Ссылки
О технологии Thunderbolt на сайте Intel
О технологии Thunderbolt на сайте Apple (рус.)
04.04.2012 :: appleinsider.ru:: Всё, что вам нужно знать о Thunderbolt
Light Peak — новая технология передачи данных от Intel и Apple (недоступная ссылка)
Останется только один. Light Peak?
Intel представит в 2014 году чип Thunderbolt со скоростью 20 Гбит/с // 3dnews