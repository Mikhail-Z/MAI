Тепловая карта (англ. heatmap) — графическое представление данных, где индивидуальные значения в таблице отображаются при помощи цвета. Термин «heatmap» изначально был придуман и официально зарегистрирован как товарный знак разработчиком программного обеспечения Кормаком Кинни в 1991 году. Он использовал этот термин, чтобы описать 2D-дисплей, изображающий в режиме реального времени информацию финансового рынка.
Подобные системы иерархичной кодировки цветов используются в изображениях фракталов и других системах представления данных. Термином «теплокарта» также иногда называют картограммы.

История создания
Основе тепловой карты — идее окрашивания таблицы с данными — больше ста лет. Пример можно найти в статистическом атласе населения Парижа Туссена Луа, изданном в 1873 году, где интенсивностью цвета показаны частоты встречаемости характеристик (национальность, профессия, возраст и т. п.) в 20 районах Парижа.
Чтобы сделать структуру данных более явной, исследователи переставляли различным образом столбцы и строки окрашенных матриц. Снит в 1957 продемонстрировал результаты кластерного анализа, размещая колонки с похожими значениями рядом друг с другом. Жак Бертэн использовал аналогичное представление для отображения данных, которые соответствовали шкале Гуттмана. Идея соединения иерархической кластеризации в виде деревьев со строкам и столбцам таблицы возникла у Роберта Линга в 1973 году. Линг, используя надпечатки символов принтера, изображал различные оттенки серого, один символ шириной в один пиксель. Леланд Уилкинсон в 1994 году разработал первую программу (SYSTAT) для изображения кластерных тепловых карт с цветной графикой высокого разрешения.
Поиски оптимального способа перестановки содержимого матриц продолжаются и сейчас, например, SVD-разложение дает очень хорошие результаты.

Виды тепловых карт и применение
Веб-тепловые карты используются как инструменты для веб-аналитики. Они показывают наиболее посещаемые области веб-страницы.
Биологические тепловые карты обычно используются в молекулярной биологии и медицине для представления данных по экспрессии множества генов в различных образцах, полученных, например, от разных пациентов или в разных условиях от одного пациента. Обычно биологическая тепловая карта организована в виде таблицы, в которой цвет квадрата показывает уровень экспрессии, а столбцы и строки различные гены или образцы, иерархическая организация которых может быть изображена в виде дерева на полях таблицы. Также теплокарты применяются для визуализации данных о трехмерной организации хроматина, полученных методами фиксации конформации хромосом.
Мозаичный график — это мозаичная теплокарта для представления данных, имеющих две или более переменных.

Использование цветов
Существует множество различных цветовых схем со своими недостатками и преимуществами, которые используются в теплокартах.
Часто используются теплокарты с большим количеством цветов (радужные), так как люди способны различать большее число разнообразных оттенков цвета, нежели различать серый разной интенсивности. Это позволяет разбирать и замечать больше деталей изображения.
Тем не менее, не рекомендуется использовать большое разнообразие цветов по следующим причинам:

Широко распространенные цветовые схемы (например, jet, которая используется по умолчанию во многих программах для визуализации данных) слишком яркие для того, чтобы корректно отобразить их в черно-белом спектре или печати. Также на таких цветовых схемах желтые и голубые области более заметны, что отвлекает наблюдателя от главного.
Маленькая разница между цветами заставляет нас видеть градиенты, которых на самом деле нет, что делает реальные градиенты менее заметными. Тем самым радужные цветовые схемы скрывают детали, а не делают их более явными.Вне зависимости от выбора цветовой схемы, следует прилагать цветовую легенду, объясняющую значение цветов, либо описывать их в сопутствующем тексте.
Используются различные цветовые схемы, последовательные и расходящиеся.

Программное обеспечение
Ниже перечислены примеры ПО, используемого для построения теплокарт.

PermutMatrix — рабочая среда, предназначенная для графического исследования наборов числовых данных. Предлагает набор методов для оптимальной реорганизации строк и столбцов таблиц.
NeoVision Hypersystems — программа фирмы, основанной Кормаком Кинни, и финансируемой Intel и Deutsche Bank. Тепловые карты описывают в режиме реального времени финансовые данные и расчеты, производимые более чем 50000 пользователями.
R — бесплатное программное обеспечение для статистических вычислений и построения графиков, содержит несколько функций для построения тепловых карт (heatmap).
Мatplotlib, seaborn, plotly и другие библиотеки языка Python содержат инструменты для построения теплокарт.
Gnuplot — свободное кроссплатформенное ПО, с помощью которого можно строить как 2D, так и 3D тепловые карты.
Приложение для работы с электронными таблицами Google Docs включает в себя инструмент «Тепловая карта», но он разработан только для данных по странам.
Цветовая схема Дэйва Грина cubehelix, предназначенная для перевода в черно-белое изображение без потери информативности.
Qlucore — биоинформатическая программа для анализа данных экспрессии генов, включает в себя построение теплокарт.
Программа ESPN Gamecast для футбольных игр использует теплокарты, чтобы показать области поля, где находились игроки во время игры.
Визуализатор таблиц GENE-E включает в том числе инструмент для изображения теплокарт.
Morpheus — веб-сервис для визуализации матриц и анализа табличных данных.
Microsoft Excel можно использовать для получения теплокарт, применяя диаграмму поверхности. Но по умолчанию диапазон цветов не подходит для теплокарты, цвета могут быть отредактированы для создания удобных и интуитивно понятных тепловых карт.
Sightsmap (или теплокарта «туристичности») строит теплокарту популярности достопримечательностей. Для этого берутся фотографии с сайта Panoramio, который приписывает каждой фотографии её географические координаты, и рисуется теплокарта на Google Maps по количеству фотографий в определённой географической точке. Например, жёлтые зоны — много снимков (и туристов соответственно), серые зоны — нет снимков.
MeV (Multiple Experiment Viewer)

Примеры теплокарт
Альтернативы
Для отображения трехмерных данных в двумерном пространстве в качестве третьей переменной можно использовать не только цвет, но и другие графические средства.

Пузырьковая диаграмма
В качестве третьего измерения используется площадь или размер круга.

Гистограмма
В гистограмме значения переменных представлены в виде высоты столбцов. Дополнительные измерения можно получить, добавив новые группы данных.

Примечания
См. также
Диаграмма Чекановского