Cue Sheet, файл разметки — это текстовый файл с метаданными, описывающими последовательность и длительность треков на CD (также существуют файлы разметки для DVD и Blu-ray). Файлы Cue Sheet, как правило, имеют расширение .cue. Впервые файлы Cue Sheet появились в программах DAO (MS-DOS) и CDRWIN (Windows). Сегодня они поддерживаются многими программами для записи компакт-дисков и медиапроигрывателями.
Для аудио-CD файлы Cue Sheet указывают названия и исполнителей альбома и треков, а также имена одного или более используемых аудиофайлов (обычно это файлы MP3, WAV и образы диска, хотя некоторые программы поддерживают и другие форматы). Файлы Cue Sheet особенно полезны при записи CD и при прослушивании концертных записей или диджейских миксов, в которых все треки записаны в один файл.
Кроме того, файлы Cue Sheet используются для других типов оптических носителей в сочетании с образом диска. Обычно образ диска имеет расширение .bin.

Использование для записи CD
Формат CD позволяет быстро переходить к любому треку диска. Если же источником аудиоданных для CD служит один файл (например, концертное выступление группы или диджейский микс), то при записи на CD он займет один-единственный трек, что препятствует лёгкой навигации. Cue Sheet решает эту проблему, предоставляя необходимые метаданные. Если программа прожига поддерживает запись информации CD-Text, то на диск также записываются автор и название каждого трека (содержащиеся в Cue Sheet).

Использование для прослушивания аудио
В последние годы получило широкое распространение прослушивание аудиофайлов на компьютере и на портативных аудиоплеерах, благодаря чему файлы Cue Sheet стали вновь востребованными. Конечно, можно обойтись и без них, разделив исходный аудиофайл, содержащий весь альбом, на несколько файлов — по одному на трек. В этом случае с потрековым воспроизведением справятся все проигрыватели — как программные, так и аппаратные. Недостаток такого подхода — возникновение пауз между треками, что особенно неприятно при прослушивании концертных записей или миксов, когда один трек плавно перетекает в следующий.
Другой способ — использование файлов Cue Sheet с аудиоплеером, умеющим с ними работать. Плеер получает из Cue Sheet информацию о местонахождении треков в аудиофайле, и такое прослушивание для пользователя ничем не отличается от прослушивания аудио-CD. Как частный случай — файлы Cue Sheet могут ссылаться не на один аудиофайл, а на несколько, в том числе на файлы, каждый из которых содержит только один трек (т. е. Cue Sheet может играть роль своего рода плейлиста). Кроме того, при использовании одного аудиофайла на весь альбом можно встраивать Cue Sheet внутрь этого файла в виде метаданных с тегом cuesheet, и тогда аудиоплеер, понимающий встроенные Cue Sheet (например, foobar2000 или AIMP), будет использовать разметку так же, как если бы она находилась в отдельном файле Cue Sheet.

Синтаксис
Файлы Cue Sheet — это обычные текстовые файлы, содержащие команды (директивы) с одним или несколькими параметрами. Команды описывают как данные для диска в целом, так и для отдельных треков. Ниже приведены основные команды, используемые в Cue Sheet.

TITLE "название альбома или трека"Если команда TITLE находится раньше любой из команд TRACK, тогда эта строка обозначает название всего диска. Если данная команда идёт после команды TRACK, тогда строка обозначает название текущего трека. Если записывающий дисковод не поддерживает CD-Text, эта команда игнорируется.

PERFORMER "имя исполнителя"Если команда PERFORMER находится раньше любой из команд TRACK, тогда эта строка обозначает исполнителя всего диска. Если данная команда идёт после команды TRACK, тогда строка обозначает исполнителя текущего трека. Если записывающий дисковод не поддерживает CD-Text, эта команда игнорируется.

FILE "имя файла" <тип>Указывает имя файла с данными (может быть полным, включающим диск и путь). Параметр "тип" для аудиофайлов может быть одним из следующих: AIFF, WAVE, MP3.
Команды FILE должны идти раньше любых других команд, за исключением команды CATALOG.

TRACK <номер> <тип>Определяет начало нового трека с указанием его номера и типа данных. Последующие строки, такие как INDEX, TITLE и PERFORMER, предоставляют информацию об этом треке и могут располагаться в любом порядке. Параметр <номер> — это число от 1 до 99. Номер первого трека может быть больше единицы, но все треки, идущие за ним, должны иметь последовательную нумерацию. Параметр <тип> для аудио должен быть AUDIO (также возможны значения CDG, MODE1/2048, MODE1/2352, MODE2/2336, MODE2/2352, CDI/2336 и CDI/2352, обозначающие диски с караоке и с данными). В Cue Sheet должен быть указан хотя бы один трек.

INDEX <номер> <мм:сс:фф>Указывает начальную позицию внутри аудиофайла, где начинается данный трек (относительно начала файла) в формате минута:секунда:фрейм (например 04:18:63 = 4 минуты, 18 секунд, 63 фрейма). Согласно стандарту CDDA, в одной секунде 75 фреймов (0..74). Команда INDEX 01 — обязательная, она указывает начало трека. Команда INDEX 00 — необязательная, она определяет так называемый pregap (англ.) (предшествующий зазор). При использовании с TRACK 01 (первым треком) INDEX 00 будет обозначать начало скрытого лидирующего трека (Hidden Track One Audio (HTOA) (англ.)), найти который, например, на аудио-CD можно только перемоткой назад сразу после начала воспроизведения. Допускается также указывать дополнительные индексы (02..99).

PREGAP <мм:сс:фф>
POSTGAP <мм:сс:фф>Эти команды указывают величину зазора, соответственно, до и после трека в том же формате минута:секунда:фрейм, как и в INDEX. Команда PREGAP должна идти после TRACK, но до любой из команд INDEX. Команда POSTGAP должна идти после всех команд INDEX для текущего трека. Для каждого трека можно использовать только по одной команде PREGAP и POSTGAP.

SONGWRITER "имя автора песни"Если команда SONGWRITER находится раньше любой из команд TRACK, тогда эта строка обозначает автора слов всего диска. Если данная команда идёт после команды TRACK, тогда строка обозначает автора слов текущего трека. Если записывающий дисковод не поддерживает CD-Text, эта команда игнорируется.

CATALOG <номер>Указывает номер диска в каталоге носителей (Media Catalog Number, MCN). Обычно применяется только при мастеринге CD для коммерческого использования. Номер должен состоять из 13 цифр и быть закодирован в соответствии с правилами UPC/EAN. Команда CATALOG может употребляться в Cue Sheet только один раз.

ISRC <код>Указывает международный стандартный номер записи (ISRC). Код ISRC должен состоять из 12 символов (первые пять — буквенно-цифровые, остальные семь — только цифры). Если используется команда ISRC, она должна быть указана после команды TRACK, но до любой из команд INDEX.

FLAGS <флаги>Служит для установки особых субкодовых флагов внутри трека. Допускается использовать следующие флаги: DCP (цифровое копирование разрешено), 4CH (четырёхканальное аудио), PRE (используется предыскажение, только для аудиотреков), SCMS (система управления серийным копированием).
Команда FLAGS должна идти после команды TRACK, но до любой из команд INDEX. Для каждого трека можно использовать только одну команду FLAGS.

REM <комментарий>Служит для вставки в Cue Sheet комментариев.

CDTEXTFILE "имя файла"Указывает имя файла с информацией CD-Text (может быть полным, включающим диск и путь). Если записывающий дисковод не поддерживает CD-Text, эта команда игнорируется.

Нестандартные файлы Cue Sheet
Программы для риппинга CD обычно позволяют сохранять каждый аудиотрек в виде отдельного файла, помещая предзазор (pregap) этого трека в конец файла с предыдущим треком. Это совпадает с нормальным воспроизведением, когда начало каждого файла — это начало трека, а не предшествующего ему зазора, и с макетом, описанном в таблице содержания диска, где информации о зазорах нет вовсе.
Формат Cue Sheet, описанный в Руководстве пользователя программы CDRWIN, не поддерживает такие наборы файлов; при его разработке предполагалось, что все аудиоданные находятся в одном файле (CDRWIN создаёт файлы Cue Sheet только для такого вида риппинга) или в отдельных файлах, но с зазорами, расположенными в начале файлов либо вовсе удалёнными.
Чтобы можно было использовать файлы Cue Sheet для записи CD из обычных наборов файлов с зазорами в конце каждого файла, в программе Exact Audio Copy (EAC), предназначенной для риппинга и записи CD, разрешено создавать файлы Cue Sheet, смягчающие ограничения на местоположение команд FILE, оговоренные в документации CDRWIN. Файлы Cue Sheet в этом нестандартном (non-conforming) формате предназначены только для записи CD с помощью EAC и не поддерживаются другими программами, например плеером foobar2000, позволяющим использовать файлы Cue Sheet как плейлисты.

Примеры
MP3-файл Faithless — Live in Berlin.mp3 содержит запись концертного выступления группы Faithless, где они исполнили восемь песен. Список треков выглядит следующим образом:

Так как MP3-файл содержит всё выступление целиком, запись его на диск в неизменном виде сделает невозможным быстрый переход к отдельным песням.
Чтобы составить Cue Sheet, сначала нужно найти места в MP3-файле, где начинается каждая песня. Время абсолютное, т. е. каждый следующий трек должен иметь время позднее предыдущего.
Первые пять строк содержат информацию о диске. За ними следует информация для каждого трека, снабжаемая отступами. Строка INDEX 01 остаётся той же самой для каждого трека, за исключением значения времени, которое за ней следует. TITLE и PERFORMER необязательны.

Пример файла Cue Sheet, используемого в сочетании с образом CD:

Медиаплееры с поддержкой тегов Cue Sheet
Audacious
MusicBee
AIMP
Clementine
DeaDBeeF
JetAudio (с помощью плагина)
Winamp (с помощью плагина)
KMPlayer
Snow player
foobar2000
VLC media player
XMPlay
XBMC
QMMP
mpd
cmus

Примечания
Ссылки
Онлайн-генератор Cue Sheet
Cuesheet Tutorial Подробное руководство, описывающее, что такое файлы Cue Sheet и как их использовать
hydrogenaudio knowledgebase Объяснение и примеры, включая работу с предзазорами и cuesheet-совместимое ПО
CUE Corrector Создание и редактирование файлов Cue Sheet
Библиотеки для разработчиков
CueSharp Библиотека-парсер Cue Sheet с открытым исходным кодом на C#
cuetools Библиотека-парсер Cue Sheet с открытым исходным кодом на C
libcue Библиотека-парсер Cue Sheet с открытым исходным кодом на C
Базы Cue Sheet
CueNation
Cue Sheet Heaven Создание файлов Cue Sheet из записей в freedb
CueDB Открытая база файлов Cue Sheet