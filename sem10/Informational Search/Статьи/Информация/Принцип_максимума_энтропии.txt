Принцип максимума энтропии утверждает, что наиболее характерными распределениями вероятностей состояний неопределенной среды являются такие распределения, которые максимизируют выбранную меру неопределенности при заданной информации о «поведении» среды. Впервые подобный подход использовал Д.Гиббс для нахождения экстремальных функций распределений физических ансамблей частиц. Впоследствии Э.Джейнсом был предложен формализм восстановления неизвестных законов распределения случайных величин при наличии ограничений из условий максимума энтропии Шеннона.

История
Рассмотрим дискретную случайную величину 
  
    
      
        X
      
    
    {\displaystyle X}
  , которая может принимать значения 
  
    
      
        
          x
          
            1
          
        
        ,
        .
        .
        .
        ,
        
          x
          
            n
          
        
      
    
    {\displaystyle x_{1},...,x_{n}}
   с вероятностями 
  
    
      
        
          p
          
            1
          
        
        ,
        .
        .
        .
        ,
        
          p
          
            n
          
        
      
    
    {\displaystyle p_{1},...,p_{n}}
  . Значения вероятностей не известны. Зато известно матожидание некоторой функции данной случайной величины: 
  
    
      
        M
        [
        f
        (
        x
        )
        ]
        =
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          f
          (
          
            
              x
              
                i
              
            
          
          )
          
            
              p
              
                i
              
            
          
        
      
    
    {\displaystyle M[f(x)]=\sum \limits _{i=1}^{n}{f({x_{i}}){p_{i}}}}
  . Основываясь на этой информации, каково матожидание функции 
  
    
      
        g
        (
        x
        )
      
    
    {\displaystyle g(x)}
  ?
На первый взгляд, задача кажется неразрешимой, поскольку предварительно необходимо знать вероятностное распределение 
  
    
      
        X
      
    
    {\displaystyle X}
  , а исходной информации недостаточно, чтобы найти все значения вероятностей 
  
    
      
        
          p
          
            i
          
        
      
    
    {\displaystyle p_{i}}
  . Уравнение матожидания функции 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   вместе с уравнением нормировки 
  
    
      
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            p
            
              i
            
          
        
        =
        1
      
    
    {\displaystyle \sum \limits _{i=1}^{n}{p_{i}}=1}
   дают всего два уравнения из 
  
    
      
        n
      
    
    {\displaystyle n}
   необходимых для составления системы уравнений.
Эта задача определения вероятностного распределения в случаях, когда мало или совсем нет информации о случайной величине, стара как сама теория вероятностей. Лапласовский принцип недостаточного основания был попыткой предложить такой критерий выбора: он заключается в том, что два события считаются равновероятными, если нет оснований считать иначе.
Необходимо отметить, что теория вероятностей разрабатывалась в двух совершенно различных направлениях с точки зрения фундаментальных понятий. «Объективная» школа мысли рассматривала вероятность события как объективное свойство этого события, которое всегда можно принципиально выявить в большом количестве случайных экспериментов. С другой стороны — «субъективная» школа мысли, рассматривающая вероятность события как степень неизвестности в отношении данного события. Вероятность события с точки зрения «субъективиста» всего лишь формальное выражение ожидания данного события, которое основывается на всей доступной информации.
Можно сказать, что вероятности выпадения граней игральной кости одинаковы в силу объективной симметрии игральной кости. В то же время, вероятности событий встретить или не встретить динозавра на улице тоже принято считать равными, но уже с точки зрения субъективной вероятности, поскольку до выхода на улицу не известно даже, водятся ли они там, или нет (объективные вероятности в данном случае считаются неопределенными).
Очевидно, что субъективная вероятность на фундаментальном уровне связана с количеством доступной информации о событии. Лаплас, например, считал, что в мире вообще нет ничего случайного, и если есть информация о причинах событий, то следствия (сами события) могут быть предсказаны со стопроцентной точностью (лапласовский детерминизм). Данный подход к вероятности развивали независимо физик Д.Гиббс (в статистической механике Гиббса) и математик К.Шеннон (при разработке теории информации). Оба они получили величину, выражающую собой меру неопределенности об исходах какого-либо события (или, по-другому, меру неопределенности вероятностного распределения), которая была названа энтропией и вычислялась по похожим формулам. Далее на это сходство обратил внимание физик Э. Т. Джейнс в двух статьях 1957 года.
Строго говоря, Гиббс не был первопроходцем в разработке понятия физической энтропии. Само понятие энтропии предложил физик Р.Клаузиус, а затем его развивал физик Л.Больцман, причём каждый из них получил свою функцию энтропии. Клаузиус работал с термодинамическими понятиями, Больцман же разрабатывал молекулярную физику и статистическую механику.
Точно также Шеннон основывался в своей работе на результатах Г.Найквиста и Р.Хартли, заложивших основы теории информации.

Функционал
Предположим, что событие 
  
    
      
        A
      
    
    {\displaystyle A}
   может произойти, а может и не произойти в ходе случайного эксперимента. Если событие 
  
    
      
        A
      
    
    {\displaystyle A}
   не произошло, будем считать, что произошло противоположное событие 
  
    
      
        
          
            A
            ¯
          
        
      
    
    {\displaystyle {\overline {A}}}
  . Таким образом, события 
  
    
      
        A
      
    
    {\displaystyle A}
   и 
  
    
      
        
          
            A
            ¯
          
        
      
    
    {\displaystyle {\overline {A}}}
   образуют полную группу событий, что означает, что это несовместные события, а их вероятности в сумме равны единице: 
  
    
      
        P
        (
        A
        )
        +
        P
        (
        
          
            A
            ¯
          
        
        )
        =
        1
      
    
    {\displaystyle P(A)+P({\overline {A}})=1}
  .
Если о событии 
  
    
      
        A
      
    
    {\displaystyle A}
   не известно вообще ничего, то, согласно субъективному подходу к вероятности, нужно принять, что события 
  
    
      
        A
      
    
    {\displaystyle A}
   и 
  
    
      
        
          
            A
            ¯
          
        
      
    
    {\displaystyle {\overline {A}}}
   равновероятны: 
  
    
      
        P
        (
        A
        )
        =
        P
        (
        
          
            A
            ¯
          
        
        )
        =
        0
        ,
        5
      
    
    {\displaystyle P(A)=P({\overline {A}})=0,5}
  .
По мере обретения некоторой информации, одна вероятность начнет перевешивать другую, а неопределенность начнет уменьшаться. В конце концов, при получении полной информации окажется, что 
  
    
      
        P
        (
        A
        )
        =
        1
      
    
    {\displaystyle P(A)=1}
  , 
  
    
      
        P
        (
        
          
            A
            ¯
          
        
        )
        =
        0
      
    
    {\displaystyle P({\overline {A}})=0}
   (или наоборот: 
  
    
      
        P
        (
        A
        )
        =
        0
      
    
    {\displaystyle P(A)=0}
  , 
  
    
      
        P
        (
        
          
            A
            ¯
          
        
        )
        =
        1
      
    
    {\displaystyle P({\overline {A}})=1}
  ). Неопределенность при этом упадет до нуля.
Хорошо бы придумать такую функцию этих вероятностей, которая бы достигала максимума при полной неопределенности и обращалась в ноль при полной определенности. И чем больше одна вероятность перевешивает другую, чем больше между ними «асимметрия», тем меньшее значение принимает данная функция.
Эту функцию (функционал) назовем энтропией распределения или неопределенностью распределения. Строго говоря, энтропия – лишь мера неопределенности, а не сама неопределенность. Но здесь все как в случае с вероятностями: вероятность – это одновременно и возможность события, и мера этой возможности. В принципе, правильно  говорить и так, и эдак.

В качестве такой функции можно рассмотреть, например, произведение вероятностей событий 
  
    
      
        A
      
    
    {\displaystyle A}
   и 
  
    
      
        
          
            A
            ¯
          
        
      
    
    {\displaystyle {\overline {A}}}
  . Обозначим 
  
    
      
        P
        (
        A
        )
        =
        p
      
    
    {\displaystyle P(A)=p}
  , 
  
    
      
        P
        (
        
          
            A
            ¯
          
        
        )
        =
        1
        −
        p
      
    
    {\displaystyle P({\overline {A}})=1-p}
   и рассмотрим функцию 
  
    
      
        H
        (
        p
        )
        =
        p
        (
        1
        −
        p
        )
      
    
    {\displaystyle H(p)=p(1-p)}
  . Поскольку 
  
    
      
        H
        (
        p
        )
      
    
    {\displaystyle H(p)}
   – это перевернутая парабола, проходящая через начало координат и точку 
  
    
      
        (
        1
        ;
        0
        )
      
    
    {\displaystyle (1;0)}
  , то своего максимума она достигает при 
  
    
      
        p
        =
        0
        ,
        5
      
    
    {\displaystyle p=0,5}
  .
Далее, по мере увеличения «асимметрии» вероятностей, 
  
    
      
        H
        (
        p
        )
      
    
    {\displaystyle H(p)}
   постепенно уменьшается, пока окончательно не превращается в ноль при 
  
    
      
        p
        =
        1
      
    
    {\displaystyle p=1}
   или при 
  
    
      
        p
        =
        0
      
    
    {\displaystyle p=0}
  .
Нужно отметить, что в силу симметрии 
  
    
      
        H
        (
        p
        =
        0
        ,
        4
        )
        =
        H
        (
        p
        =
        0
        ,
        6
        )
        =
        0
        ,
        24
      
    
    {\displaystyle H(p=0,4)=H(p=0,6)=0,24}
  , потому что это всё равно, какое именно из двух событий обладает вероятностью 
  
    
      
        0
        ,
        4
      
    
    {\displaystyle 0,4}
  , а какое – вероятностью 
  
    
      
        0
        ,
        6
      
    
    {\displaystyle 0,6}
  .
С другой стороны, 
  
    
      
        H
        (
        p
        =
        0
        ,
        3
        )
        =
        H
        (
        p
        =
        0
        ,
        7
        )
        =
        0
        ,
        21
        <
        0
        ,
        24
      
    
    {\displaystyle H(p=0,3)=H(p=0,7)=0,21<0,24}
  , потому что в этом втором случае вероятности более «асимметричны», чем в первом случае.
Обратим внимание, что функция 
  
    
      
        
          H
          
            1
          
        
        (
        p
        )
        =
        C
        H
        (
        p
        )
        =
        C
        p
        (
        1
        −
        p
        )
      
    
    {\displaystyle H_{1}(p)=CH(p)=Cp(1-p)}
  , где 
  
    
      
        C
        >
        0
      
    
    {\displaystyle C>0}
   – какой-то коэффициент, тоже справляется с наложенными на нее «обязанностями»: достигает максимума в 
  
    
      
        p
        =
        0
        ,
        5
      
    
    {\displaystyle p=0,5}
   и минимума (нуля) в 
  
    
      
        p
        =
        1
      
    
    {\displaystyle p=1}
   и 
  
    
      
        p
        =
        0
      
    
    {\displaystyle p=0}
  . Это значит, что искомый функционал может быть определен с точностью до некоторого коэффициента.
Пусть теперь полную группу событий образуют три события. Можно и в этом случае рассматривать в качестве энтропии произведение их вероятностей 
  
    
      
        
          H
          
            1
          
        
        (
        p
        ,
        q
        )
        =
        p
        q
        (
        1
        −
        p
        −
        q
        )
      
    
    {\displaystyle H_{1}(p,q)=pq(1-p-q)}
   и даже можно доказать, что максимума это произведение достигает, когда все вероятности равны между собой: 
  
    
      
        p
        =
        q
        =
        1
        −
        p
        −
        q
        =
        1
        
          /
        
        3
      
    
    {\displaystyle p=q=1-p-q=1/3}
  .
Здесь, правда, возникает одна неприятность. Максимум энтропии для трех событий равен 
  
    
      
        
          
            1
            3
          
        
        
          
            1
            3
          
        
        
          
            1
            3
          
        
        =
        
          
            1
            27
          
        
      
    
    {\displaystyle {\frac {1}{3}}{\frac {1}{3}}{\frac {1}{3}}={\frac {1}{27}}}
   - это меньше, чем максимум энтропии для двух событий, который равен 
  
    
      
        
          
            1
            2
          
        
        
          
            1
            2
          
        
        =
        
          
            1
            4
          
        
      
    
    {\displaystyle {\frac {1}{2}}{\frac {1}{2}}={\frac {1}{4}}}
  . А хотелось бы, чтоб было наоборот: чем больше событий, тем больше неопределенность.
Другая, более серьезная неприятность заключается в том, что если вероятность хотя бы одного события равна нулю, то и всё произведение вероятностей автоматически становится равным нулю. Т.е. неопределенность исчезает, становится равной нулю согласно такому функционалу, хотя на самом деле это не так. Неопределенность должна исчезать, когда все вероятности, кроме одной, равны нулю, а эта единственная вероятность равна единице.
Тем не менее, для двух исходов таким функционалом вполне можно пользоваться. Но для двух исходов и не нужно никаких функционалов: если известно матожидание распределения некоторой случайной величины 
  
    
      
        X
      
    
    {\displaystyle X}
  , то уравнение матожидания вместе с условием нормировки как раз дают систему из двух уравнений, из которой однозначно находятся 
  
    
      
        
          p
          
            1
          
        
      
    
    {\displaystyle p_{1}}
   и 
  
    
      
        
          p
          
            2
          
        
      
    
    {\displaystyle p_{2}}
  . Если же о распределении не известно вообще ничего, то вероятности приравниваются друг к другу, а это можно сделать без всяких функционалов.

Энтропия Шеннона
Клод Шеннон наложил на искомую функцию 
  
    
      
        H
        (
        
          p
          
            1
          
        
        ,
        .
        .
        .
        ,
        
          p
          
            n
          
        
        )
      
    
    {\displaystyle H(p_{1},...,p_{n})}
   три условия:

  
    
      
        H
        (
        
          p
          
            1
          
        
        ,
        .
        .
        .
        ,
        
          p
          
            n
          
        
        )
      
    
    {\displaystyle H(p_{1},...,p_{n})}
   должна быть непрерывной функцией от переменных 
  
    
      
        
          p
          
            i
          
        
      
    
    {\displaystyle p_{i}}
  ;
если все вероятности 
  
    
      
        
          p
          
            i
          
        
      
    
    {\displaystyle p_{i}}
   равны, то функция 
  
    
      
        A
        (
        n
        )
        =
        H
        (
        
          
            1
            n
          
        
        ,
        .
        .
        .
        ,
        
          
            1
            n
          
        
        )
         
      
    
    {\displaystyle A(n)=H({\frac {1}{n}},...,{\frac {1}{n}})\ }
   является монотонно возрастающей функцией от 
  
    
      
        n
      
    
    {\displaystyle n}
  . Иными словами, 
  
    
      
        H
        
          
            
              
                (
                
                  
                    1
                    n
                  
                
                ,
                .
                .
                .
                ,
                
                  
                    1
                    n
                  
                
                )
              
              ⏟
            
          
          
            n
          
        
        <
        H
        
          
            
              
                (
                
                  
                    1
                    
                      n
                      +
                      1
                    
                  
                
                ,
                .
                .
                .
                ,
                
                  
                    1
                    
                      n
                      +
                      1
                    
                  
                
                )
              
              ⏟
            
          
          
            n
            +
            1
          
        
      
    
    {\displaystyle H\underbrace {({\frac {1}{n}},...,{\frac {1}{n}})} _{n}<H\underbrace {({\frac {1}{n+1}},...,{\frac {1}{n+1}})} _{n+1}}
  ;
Закон композиции. Вместо того, чтобы задавать вероятности событий непосредственно, можно сгруппировать первые 
  
    
      
        k
      
    
    {\displaystyle k}
   из них вместе, как одно событие с соответствующей вероятностью 
  
    
      
        
          ω
          
            1
          
        
        =
        
          p
          
            1
          
        
        +
        .
        .
        .
        +
        
          p
          
            k
          
        
      
    
    {\displaystyle \omega _{1}=p_{1}+...+p_{k}}
  . Оставшиеся – как второе событие с вероятностью 
  
    
      
        
          ω
          
            2
          
        
        =
        
          p
          
            k
            +
            1
          
        
        +
        .
        .
        .
        +
        
          p
          
            n
          
        
      
    
    {\displaystyle \omega _{2}=p_{k+1}+...+p_{n}}
  . Тогда функция 
  
    
      
        H
      
    
    {\displaystyle H}
   должна подчиняться условию 
  
    
      
        H
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        =
        H
        (
        
          
            ω
            
              1
            
          
        
        ,
        
          
            ω
            
              2
            
          
        
        )
        +
        
          
            ω
            
              1
            
          
        
        H
        
          (
          
            
              
                
                  p
                  
                    1
                  
                
                
                  ω
                  
                    1
                  
                
              
            
            ,
            .
            .
            .
            ,
            
              
                
                  p
                  
                    k
                  
                
                
                  ω
                  
                    1
                  
                
              
            
          
          )
        
        +
        
          
            ω
            
              2
            
          
        
        H
        
          (
          
            
              
                
                  p
                  
                    k
                    +
                    1
                  
                
                
                  ω
                  
                    2
                  
                
              
            
            ,
            .
            .
            .
            ,
            
              
                
                  p
                  
                    n
                  
                
                
                  ω
                  
                    2
                  
                
              
            
          
          )
        
      
    
    {\displaystyle H({p_{1}},...,{p_{n}})=H({\omega _{1}},{\omega _{2}})+{\omega _{1}}H\left({{\frac {p_{1}}{\omega _{1}}},...,{\frac {p_{k}}{\omega _{1}}}}\right)+{\omega _{2}}H\left({{\frac {p_{k+1}}{\omega _{2}}},...,{\frac {p_{n}}{\omega _{2}}}}\right)}
  ;Закон композиции требует особого рассмотрения, поскольку именно на его основе далее формируется вид функции 
  
    
      
        H
      
    
    {\displaystyle H}
  . Идея заключается в следующем.
Случайный эксперимент разбивается на два последовательных этапа. На первом этапе с вероятностями 
  
    
      
        
          ω
          
            1
          
        
      
    
    {\displaystyle \omega _{1}}
   и 
  
    
      
        
          ω
          
            2
          
        
      
    
    {\displaystyle \omega _{2}}
   выбирается первая (до 
  
    
      
        k
      
    
    {\displaystyle k}
  ) либо вторая (после 
  
    
      
        k
      
    
    {\displaystyle k}
  ) часть исходов. На втором этапе выбирается сам исход из выбранной части исходов. При этом исход из выбранной части выбирается уже с условными вероятностями 
  
    
      
        
          
            
              p
              
                1
              
            
            
              ω
              
                1
              
            
          
        
        ,
        .
        .
        .
        ,
        
          
            
              p
              
                k
              
            
            
              ω
              
                1
              
            
          
        
      
    
    {\displaystyle {\frac {p_{1}}{\omega _{1}}},...,{\frac {p_{k}}{\omega _{1}}}}
  , т.е. при условии, что данная часть (в данном случае, первая часть) выбрана. Сам Шеннон говорит, что если выбор распадается на два этапа, первоначальная энтропия должна быть взвешенной суммой индивидуальных энтропий, т.е. условных энтропий.
Общий смысл таков, что если случайный выбор на первом этапе сделан, то вероятности 
  
    
      
        
          ω
          
            1
          
        
      
    
    {\displaystyle \omega _{1}}
   и 
  
    
      
        
          ω
          
            2
          
        
      
    
    {\displaystyle \omega _{2}}
   принимают значения 
  
    
      
        0
      
    
    {\displaystyle 0}
   или 
  
    
      
        1
      
    
    {\displaystyle 1}
  , и дальнейшая неопределенность равна только одной из условных энтропий.

В качестве примера рассмотрим два графа:
На левом графе есть три исхода с вероятностями 
  
    
      
        
          p
          
            1
          
        
        =
        1
        
          /
        
        2
      
    
    {\displaystyle p_{1}=1/2}
  , 
  
    
      
        
          p
          
            2
          
        
        =
        1
        
          /
        
        3
      
    
    {\displaystyle p_{2}=1/3}
  , 
  
    
      
        
          p
          
            3
          
        
        =
        1
        
          /
        
        6
      
    
    {\displaystyle p_{3}=1/6}
  , образующих полную группу событий (т.е. 
  
    
      
        
          p
          
            1
          
        
        +
        
          p
          
            2
          
        
        +
        
          p
          
            3
          
        
        =
        1
      
    
    {\displaystyle p_{1}+p_{2}+p_{3}=1}
  ). На правом графе мы сначала выбираем между двумя возможностями, каждую с вероятностью 
  
    
      
        1
        
          /
        
        2
      
    
    {\displaystyle 1/2}
  . Если выбрана вторая возможность, тогда делается еще один выбор с вероятностями 
  
    
      
        2
        
          /
        
        3
      
    
    {\displaystyle 2/3}
   и 
  
    
      
        1
        
          /
        
        3
      
    
    {\displaystyle 1/3}
  . Энтропии на обоих графах должны получиться одинаковыми, поскольку в конечном счете получаются те же самые исходы с теми же вероятностями. По закону композиции запишем 
  
    
      
        H
        (
        
          
            1
            2
          
        
        ,
        
          
            1
            3
          
        
        ,
        
          
            1
            6
          
        
        )
        =
        H
        (
        
          
            1
            2
          
        
        ,
        
          
            1
            2
          
        
        )
        +
        
          
            1
            2
          
        
        H
        
          (
          1
          )
        
        +
        
          
            1
            2
          
        
        H
        
          (
          
            
              
                1
                3
              
            
            ,
            
              
                2
                3
              
            
          
          )
        
        =
        H
        (
        
          
            1
            2
          
        
        ,
        
          
            1
            2
          
        
        )
        +
        
          
            1
            2
          
        
        H
        
          (
          
            
              
                1
                3
              
            
            ,
            
              
                2
                3
              
            
          
          )
        
      
    
    {\displaystyle H({\frac {1}{2}},{\frac {1}{3}},{\frac {1}{6}})=H({\frac {1}{2}},{\frac {1}{2}})+{\frac {1}{2}}H\left(1\right)+{\frac {1}{2}}H\left({{\frac {1}{3}},{\frac {2}{3}}}\right)=H({\frac {1}{2}},{\frac {1}{2}})+{\frac {1}{2}}H\left({{\frac {1}{3}},{\frac {2}{3}}}\right)}
  .
Здесь 
  
    
      
        H
        (
        1
        )
        =
        0
      
    
    {\displaystyle H(1)=0}
  , поскольку полная группа событий, состоящая всего из одного события, наступающего со стопроцентной вероятностью, порождает нулевую неопределенность. При этом, по словам самого Шеннона, коэффициент 
  
    
      
        1
        
          /
        
        2
      
    
    {\displaystyle 1/2}
   появляется потому, что второй выбор появляется только половину всех раз.
В законе композиции первый этап может состоять не из двух возможностей, а из большего числа возможностей с соответствующими вероятностями 
  
    
      
        
          ω
          
            1
          
        
      
    
    {\displaystyle \omega _{1}}
  , 
  
    
      
        
          ω
          
            2
          
        
      
    
    {\displaystyle \omega _{2}}
  , 
  
    
      
        
          ω
          
            3
          
        
      
    
    {\displaystyle \omega _{3}}
  , …
Закон композиции является своеобразным обобщением аддитивного свойства энтропии, хотя и не следует непосредственно из этого свойства.
Действительно, пусть некий эксперимент состоит из шести равновероятных исходов. Пусть эти исходы поделены на три равные части: на первом этапе выбирается одна из трех частей, на втором этапе выбирается исход внутри соответствующей части. Тогда можно записать

  
    
      
        H
        (
        
          
            1
            6
          
        
        ,
        
          
            1
            6
          
        
        ,
        
          
            1
            6
          
        
        ,
        
          
            1
            6
          
        
        ,
        
          
            1
            6
          
        
        ,
        
          
            1
            6
          
        
        )
        =
        H
        (
        
          
            1
            3
          
        
        ,
        
          
            1
            3
          
        
        ,
        
          
            1
            3
          
        
        )
        +
        
          
            1
            3
          
        
        H
        
          (
          
            
              
                1
                2
              
            
            ,
            
              
                1
                2
              
            
          
          )
        
        +
        
          
            1
            3
          
        
        H
        
          (
          
            
              
                1
                2
              
            
            ,
            
              
                1
                2
              
            
          
          )
        
        +
        
          
            1
            3
          
        
        H
        
          (
          
            
              
                1
                2
              
            
            ,
            
              
                1
                2
              
            
          
          )
        
      
    
    {\displaystyle H({\frac {1}{6}},{\frac {1}{6}},{\frac {1}{6}},{\frac {1}{6}},{\frac {1}{6}},{\frac {1}{6}})=H({\frac {1}{3}},{\frac {1}{3}},{\frac {1}{3}})+{\frac {1}{3}}H\left({{\frac {1}{2}},{\frac {1}{2}}}\right)+{\frac {1}{3}}H\left({{\frac {1}{2}},{\frac {1}{2}}}\right)+{\frac {1}{3}}H\left({{\frac {1}{2}},{\frac {1}{2}}}\right)}
  .
Полученное равенство можно переписать так:

  
    
      
        A
        (
        6
        )
        =
        A
        (
        3
        )
        +
        
          
            1
            3
          
        
        A
        
          (
          2
          )
        
        +
        
          
            1
            3
          
        
        A
        
          (
          2
          )
        
        +
        
          
            1
            3
          
        
        A
        
          (
          2
          )
        
        =
        A
        (
        3
        )
        +
        A
        
          (
          2
          )
        
      
    
    {\displaystyle A(6)=A(3)+{\frac {1}{3}}A\left(2\right)+{\frac {1}{3}}A\left(2\right)+{\frac {1}{3}}A\left(2\right)=A(3)+A\left(2\right)}
  .
Очевидно, в общем случае 
  
    
      
        A
        (
        m
        n
        )
        =
        A
        (
        m
        )
        +
        A
        
          (
          n
          )
        
      
    
    {\displaystyle A(mn)=A(m)+A\left(n\right)}
  .
Но этот же результат можно получить из других соображений.
Предположим, есть случайный эксперимент с 
  
    
      
        m
      
    
    {\displaystyle m}
   равновероятными исходами и другой случайный эксперимент с 
  
    
      
        n
      
    
    {\displaystyle n}
   равновероятными исходами. Пусть эти два случайных эксперимента никак не связаны друг с другом. Но в любом случае их можно рассматривать как один объединенный эксперимент, в котором отдельный исход заключается в том, что произошел   
  
    
      
        i
      
    
    {\displaystyle i}
  -й исход первого эксперимента и 
  
    
      
        j
      
    
    {\displaystyle j}
  -й исход второго эксперимента. В таком объединенном эксперименте есть уже 
  
    
      
        m
        n
      
    
    {\displaystyle mn}
   равновероятных исходов. Поскольку неопределенность двух экспериментов не должна меняться в зависимости от подобной смены точки зрения, то 
  
    
      
        A
        (
        m
        n
        )
        =
        A
        (
        m
        )
        +
        A
        
          (
          n
          )
        
      
    
    {\displaystyle A(mn)=A(m)+A\left(n\right)}
  .
Как следствие этого результата, 
  
    
      
        A
        (
        
          m
          
            s
          
        
        )
        =
        s
        A
        (
        m
        )
      
    
    {\displaystyle A(m^{s})=sA(m)}
  , где 
  
    
      
        s
      
    
    {\displaystyle s}
   – неотрицательное целое. Если 
  
    
      
        s
        =
        0
      
    
    {\displaystyle s=0}
  , то последнее равенство принимает вид 
  
    
      
        A
        (
        1
        )
        =
        0
      
    
    {\displaystyle A(1)=0}
  , оставаясь верным равенством.
Закон композиции позволяет выразить энтропию вероятностного распределения, в котором все вероятности – рациональные числа, как взвешенную сумму функций 
  
    
      
        A
      
    
    {\displaystyle A}
  . Действительно, пусть есть полная группа событий из 
  
    
      
        n
      
    
    {\displaystyle n}
   несовместных событий с вероятностями 
  
    
      
        
          p
          
            1
          
        
        =
        
          n
          
            1
          
        
        
          /
        
        n
      
    
    {\displaystyle p_{1}=n_{1}/n}
  , 
  
    
      
        
          p
          
            2
          
        
        =
        
          n
          
            2
          
        
        
          /
        
        n
      
    
    {\displaystyle p_{2}=n_{2}/n}
  , …, 
  
    
      
        
          p
          
            n
          
        
        =
        
          n
          
            n
          
        
        
          /
        
        n
      
    
    {\displaystyle p_{n}=n_{n}/n}
  , где 
  
    
      
        
          n
          
            i
          
        
      
    
    {\displaystyle n_{i}}
  , 
  
    
      
        n
      
    
    {\displaystyle n}
  , – натуральные, 
  
    
      
        
          n
          
            1
          
        
        +
        .
        .
        .
        +
        
          n
          
            n
          
        
        =
        n
      
    
    {\displaystyle n_{1}+...+n_{n}=n}
  . Тогда можно записать

  
    
      
        A
        (
        n
        )
        =
        H
        (
        
          
            
              n
              
                1
              
            
            n
          
        
        ,
        .
        .
        .
        ,
        
          
            
              n
              
                n
              
            
            n
          
        
        )
        +
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              
                n
                
                  i
                
              
              n
            
          
          A
          (
          
            
              n
              
                i
              
            
          
          )
        
      
    
    {\displaystyle A(n)=H({\frac {n_{1}}{n}},...,{\frac {n_{n}}{n}})+\sum \limits _{i=1}^{n}{{\frac {n_{i}}{n}}A({n_{i}})}}
   .
Из этого уравнения уже можно выразить 
  
    
      
        H
        (
        
          
            
              n
              
                1
              
            
            n
          
        
        ,
        .
        .
        .
        ,
        
          
            
              n
              
                n
              
            
            n
          
        
        )
      
    
    {\displaystyle H({\frac {n_{1}}{n}},...,{\frac {n_{n}}{n}})}
  .
Собственно, не известно точно, откуда Шеннон взял свой закон композиции. Возможно, он просто хотел, чтобы его энтропия получилась похожей на энтропию Хартли, и он придумал такое условие (закон композиции), из которого энтропия Шеннона получалась бы однозначным образом.
Теорема:

Доказательство.
Доказательство сводится к выяснению вида функции 
  
    
      
        A
      
    
    {\displaystyle A}
  .
Для любого натурального 
  
    
      
        t
      
    
    {\displaystyle t}
   и любого, сколь угодно большого натурального 
  
    
      
        n
      
    
    {\displaystyle n}
   можно найти такое натуральное 
  
    
      
        m
        >
        1
      
    
    {\displaystyle m>1}
   и неотрицательное целое 
  
    
      
        s
      
    
    {\displaystyle s}
  , что 
  
    
      
        
          
            m
            
              s
            
          
        
        ≤
        
          
            t
            
              n
            
          
        
        ≤
        
          
            m
            
              s
              +
              1
            
          
        
      
    
    {\displaystyle {m^{s}}\leq {t^{n}}\leq {m^{s+1}}}
   (это очевидно). Потенцируя обе части неравенства и деля на 
  
    
      
        n
        ln
        ⁡
        m
      
    
    {\displaystyle n\ln m}
  , получим 
  
    
      
        
          
            s
            n
          
        
        ≤
        
          
            
              ln
              ⁡
              t
            
            
              ln
              ⁡
              m
            
          
        
        ≤
        
          
            
              s
              +
              1
            
            n
          
        
      
    
    {\displaystyle {\frac {s}{n}}\leq {\frac {\ln t}{\ln m}}\leq {\frac {s+1}{n}}}
  , откуда 
  
    
      
        
          |
          
            
              
                s
                n
              
            
            −
            
              
                
                  log
                
                
                  m
                
              
            
            t
          
          |
        
        ≤
        
          
            1
            n
          
        
      
    
    {\displaystyle \left|{{\frac {s}{n}}-{{\log }_{m}}t}\right|\leq {\frac {1}{n}}}
  . Поскольку основание натурального логарифма больше единицы, то знак неравенств не меняется.
С другой стороны, исходя из монотонности 
  
    
      
        A
        (
        n
        )
      
    
    {\displaystyle A(n)}
  , можно записать 
  
    
      
        A
        (
        
          
            m
            
              s
            
          
        
        )
        ≤
        A
        (
        
          
            t
            
              n
            
          
        
        )
        ≤
        A
        (
        
          
            m
            
              s
              +
              1
            
          
          )
        
      
    
    {\displaystyle A({m^{s}})\leq A({t^{n}})\leq A({m^{s+1})}}
   , 
  
    
      
        s
        A
        (
        
          m
        
        )
        ≤
        n
        A
        (
        
          t
        
        )
        ≤
        (
        s
        +
        1
        )
        A
        (
        
          m
          )
        
      
    
    {\displaystyle sA({m})\leq nA({t})\leq (s+1)A({m)}}
  , откуда аналогично 
  
    
      
        
          
            s
            n
          
        
        ≤
        
          
            
              A
              (
              t
              )
            
            
              A
              (
              m
              )
            
          
        
        ≤
        
          
            
              s
              +
              1
            
            n
          
        
      
    
    {\displaystyle {\frac {s}{n}}\leq {\frac {A(t)}{A(m)}}\leq {\frac {s+1}{n}}}
  , 
  
    
      
        
          |
          
            
              
                s
                n
              
            
            −
            
              
                
                  A
                  (
                  t
                  )
                
                
                  A
                  (
                  m
                  )
                
              
            
          
          |
        
        ≤
        
          
            1
            n
          
        
      
    
    {\displaystyle \left|{{\frac {s}{n}}-{\frac {A(t)}{A(m)}}}\right|\leq {\frac {1}{n}}}
  . Тогда можно записать 
  
    
      
        
          |
          
            
              
                
                  A
                  (
                  t
                  )
                
                
                  A
                  (
                  m
                  )
                
              
            
            −
            
              
                
                  log
                
                
                  m
                
              
            
            t
          
          |
        
        ≤
        
          
            2
            n
          
        
      
    
    {\displaystyle \left|{{\frac {A(t)}{A(m)}}-{{\log }_{m}}t}\right|\leq {\frac {2}{n}}}
  . Переходя к пределу по 
  
    
      
        n
      
    
    {\displaystyle n}
   при 
  
    
      
        n
        →
        ∞
      
    
    {\displaystyle n\to \infty }
  , получим 
  
    
      
        
          
            
              A
              (
              t
              )
            
            
              A
              (
              m
              )
            
          
        
        =
        
          
            log
            
              m
            
          
        
        t
      
    
    {\displaystyle {\frac {A(t)}{A(m)}}={\log _{m}}t}
   . Отсюда 
  
    
      
        A
        (
        t
        )
        =
        K
        
          
            log
            
              m
            
          
        
        t
      
    
    {\displaystyle A(t)=K{\log _{m}}t}
  , где 
  
    
      
        K
      
    
    {\displaystyle K}
   – произвольная положительная константа, 
  
    
      
        m
      
    
    {\displaystyle m}
   – произвольное натуральное основание логарифма (больше единицы). Произвольность константы 
  
    
      
        K
      
    
    {\displaystyle K}
   связана не только с тем, что она сокращается в числителе и знаменателе, но также и с тем, что основание логарифма выбирается произвольно. Можно перейти к натуральному логарифму, и получится 
  
    
      
        A
        (
        t
        )
        =
        K
        
          
            log
            
              m
            
          
        
        t
        =
        K
        
          
            
              ln
              ⁡
              t
            
            
              ln
              ⁡
              m
            
          
        
        =
        
          K
          ′
        
        ln
        ⁡
        t
      
    
    {\displaystyle A(t)=K{\log _{m}}t=K{\frac {\ln t}{\ln m}}=K'\ln t}
  . Это говорит о том, что основание логарифма не обязательно должно быть натуральным числом.
Далее, используя представление функции 
  
    
      
        H
      
    
    {\displaystyle H}
   через функцию 
  
    
      
        A
      
    
    {\displaystyle A}
  , можно записать 
  
    
      
        H
        (
        
          
            
              n
              
                1
              
            
            n
          
        
        ,
        .
        .
        .
        ,
        
          
            
              n
              
                n
              
            
            n
          
        
        )
        =
        A
        (
        n
        )
        −
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              
                n
                
                  i
                
              
              n
            
          
          A
          (
          
            
              n
              
                i
              
            
          
          )
        
        =
        K
        log
        ⁡
        n
        −
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              
                n
                
                  i
                
              
              n
            
          
          K
          log
          ⁡
          
            
              n
              
                i
              
            
          
        
        =
        −
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              
                n
                
                  i
                
              
              n
            
          
          K
          log
          ⁡
          
            
              
                n
                
                  i
                
              
              n
            
          
        
        =
        −
        K
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              p
              
                i
              
            
          
          log
          ⁡
          
            
              p
              
                i
              
            
          
        
      
    
    {\displaystyle H({\frac {n_{1}}{n}},...,{\frac {n_{n}}{n}})=A(n)-\sum \limits _{i=1}^{n}{{\frac {n_{i}}{n}}A({n_{i}})}=K\log n-\sum \limits _{i=1}^{n}{{\frac {n_{i}}{n}}K\log {n_{i}}}=-\sum \limits _{i=1}^{n}{{\frac {n_{i}}{n}}K\log {\frac {n_{i}}{n}}}=-K\sum \limits _{i=1}^{n}{{p_{i}}\log {p_{i}}}}
  Поскольку любое действительное число можно сколь угодно точно аппроксимировать рациональным числом, а сама функция 
  
    
      
        H
      
    
    {\displaystyle H}
   непрерывна (т.е. при небольшом изменении аргумента меняется незначительно), то Шеннон предложил использовать эту формулу и для вероятностей, заданных действительными числами.
Теорема доказана.
Если вероятность 
  
    
      
        p
      
    
    {\displaystyle p}
   равна нулю, то нужно рассматривать предел произведения 
  
    
      
        p
        log
        ⁡
        p
      
    
    {\displaystyle p\log p}
   при 
  
    
      
        p
      
    
    {\displaystyle p}
  , стремящемся к нулю:

  
    
      
        
          lim
          
            p
            →
            0
            +
          
        
        p
        ln
        ⁡
        p
        =
        
          lim
          
            p
            →
            0
            +
          
        
        
          
            
              ln
              ⁡
              p
            
            
              1
              p
            
          
        
        =
        
          lim
          
            p
            →
            0
            +
          
        
        
          
            
              
                (
                
                  ln
                  ⁡
                  p
                
                )
              
              ′
            
            
              
                (
                
                  
                    1
                    p
                  
                
                )
              
              ′
            
          
        
        =
        
          lim
          
            p
            →
            0
            +
          
        
        
          
            
              1
              
                /
              
              p
            
            
              −
              1
              
                /
              
              
                
                  p
                  
                    2
                  
                
              
            
          
        
        =
        −
        
          lim
          
            p
            →
            0
            +
          
        
        p
        =
        0
      
    
    {\displaystyle \lim _{p\to 0+}p\ln p=\lim _{p\to 0+}{\frac {\ln p}{\frac {1}{p}}}=\lim _{p\to 0+}{\frac {\left({\ln p}\right)'}{\left({\frac {1}{p}}\right)'}}=\lim _{p\to 0+}{\frac {1/p}{-1/{p^{2}}}}=-\lim _{p\to 0+}p=0}

Максимум энтропии Шеннона и метод множителей Лагранжа
Можно доказать, что энтропия Шеннона принимает максимальное значение на равномерном распределении. Чтобы доказать это, найдем условный максимум энтропии Шеннона 
  
    
      
        H
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        =
        −
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              p
              
                i
              
            
          
          ln
          ⁡
          
            
              p
              
                i
              
            
          
        
      
    
    {\displaystyle H({p_{1}},...,{p_{n}})=-\sum \limits _{i=1}^{n}{{p_{i}}\ln {p_{i}}}}
   при условии нормировки 
  
    
      
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            p
            
              i
            
          
        
        =
        1
      
    
    {\displaystyle \sum \limits _{i=1}^{n}{p_{i}}=1}
   .
Чтобы сделать это, воспользуемся методом множителей Лагранжа для поиска условных экстремумов. Этот метод вкратце заключается в следующем.
Предположим, что требуется найти локальный экстремум непрерывной функции 
  
    
      
        f
        (
        
          x
          
            1
          
        
        ,
        .
        .
        .
        ,
        
          x
          
            n
          
        
        )
      
    
    {\displaystyle f(x_{1},...,x_{n})}
   
  
    
      
        n
      
    
    {\displaystyle n}
   переменных, имеющей частные производные по всем переменным, при условии, что 
  
    
      
        
          φ
          
            1
          
        
        (
        
          x
          
            1
          
        
        ,
        .
        .
        .
        ,
        
          x
          
            n
          
        
        )
        =
        0
      
    
    {\displaystyle \varphi _{1}(x_{1},...,x_{n})=0}
  ,…,
  
    
      
        
          φ
          
            k
          
        
        (
        
          x
          
            1
          
        
        ,
        .
        .
        .
        ,
        
          x
          
            n
          
        
        )
        =
        0
      
    
    {\displaystyle \varphi _{k}(x_{1},...,x_{n})=0}
  , где 
  
    
      
        
          φ
          
            1
          
        
      
    
    {\displaystyle \varphi _{1}}
  ,…, 
  
    
      
        
          φ
          
            k
          
        
      
    
    {\displaystyle \varphi _{k}}
   – непрерывные функции, имеющие частные производные по всем переменным, 
  
    
      
        k
        <
        n
      
    
    {\displaystyle k<n}
  . Тогда составляется функция Лагранжа вида 
  
    
      
        L
        (
        
          
            x
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            x
            
              n
            
          
        
        )
        =
        f
        (
        
          
            x
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            x
            
              n
            
          
        
        )
        +
        
          ∑
          
            i
            =
            1
          
          
            k
          
        
        
          
            
              λ
              
                i
              
            
          
          
            
              φ
              
                i
              
            
          
          (
          
            
              x
              
                1
              
            
          
          ,
          .
          .
          .
          ,
          
            
              x
              
                n
              
            
          
          )
        
      
    
    {\displaystyle L({x_{1}},...,{x_{n}})=f({x_{1}},...,{x_{n}})+\sum \limits _{i=1}^{k}{{\lambda _{i}}{\varphi _{i}}({x_{1}},...,{x_{n}})}}
  , где числа 
  
    
      
        
          λ
          
            i
          
        
      
    
    {\displaystyle \lambda _{i}}
   называются множителями Лагранжа.
Необходимым условием существования условного экстремума 
  
    
      
        f
      
    
    {\displaystyle f}
   в некоторой точке является равенство нулю либо несуществование всех частных производных ее функции Лагранжа в этой точке. Поэтому составляется и решается система из 
  
    
      
        n
      
    
    {\displaystyle n}
   частных производных функции Лагранжа, приравненных к нулю, а также из 
  
    
      
        k
      
    
    {\displaystyle k}
   условий, наложенных на экстремум. Решением системы (если оно существует) является координата экстремума, а также значения множителей Лагранжа.
В случае энтропии Шеннона функция Лагранжа имеет вид: 
  
    
      
        L
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        =
        H
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        +
        λ
        
          (
          
            
              ∑
              
                i
                =
                1
              
              
                n
              
            
            
              
                p
                
                  i
                
              
            
            −
            1
          
          )
        
      
    
    {\displaystyle L({p_{1}},...,{p_{n}})=H({p_{1}},...,{p_{n}})+\lambda \left({\sum \limits _{i=1}^{n}{p_{i}}-1}\right)}
  .
Запишем систему уравнений с необходимым условием существования экстремума:

  
    
      
        
          {
          
            
              
                
                  
                    
                      
                        ∂
                        L
                        (
                        
                          
                            p
                            
                              1
                            
                          
                        
                        ,
                        .
                        .
                        .
                        ,
                        
                          
                            p
                            
                              n
                            
                          
                        
                        )
                      
                      
                        ∂
                        
                          
                            p
                            
                              1
                            
                          
                        
                      
                    
                  
                  =
                  0
                
              
              
                
                  .
                  .
                  .
                
              
              
                
                  
                    
                      
                        ∂
                        L
                        (
                        
                          
                            p
                            
                              1
                            
                          
                        
                        ,
                        .
                        .
                        .
                        ,
                        
                          
                            p
                            
                              n
                            
                          
                        
                        )
                      
                      
                        ∂
                        
                          
                            p
                            
                              n
                            
                          
                        
                      
                    
                  
                  =
                  0
                
              
              
                
                  
                    ∑
                    
                      i
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      p
                      
                        i
                      
                    
                  
                  =
                  1
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{\frac {\partial L({p_{1}},...,{p_{n}})}{\partial {p_{1}}}}=0\\...\\{\frac {\partial L({p_{1}},...,{p_{n}})}{\partial {p_{n}}}}=0\\\sum \limits _{i=1}^{n}{p_{i}}=1\end{array}}\right.}
                              Решая ее, получим: 
  
    
      
        
          {
          
            
              
                
                  −
                  (
                  ln
                  ⁡
                  
                    
                      p
                      
                        1
                      
                    
                  
                  +
                  1
                  )
                  +
                  λ
                  =
                  0
                
              
              
                
                  .
                  .
                  .
                
              
              
                
                  −
                  (
                  ln
                  ⁡
                  
                    
                      p
                      
                        n
                      
                    
                  
                  +
                  1
                  )
                  +
                  λ
                  =
                  0
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}-(\ln {p_{1}}+1)+\lambda =0\\...\\-(\ln {p_{n}}+1)+\lambda =0\end{array}}\right.}
  
Поскольку все уравнения одинаковы, то 
  
    
      
        
          
            p
            
              1
            
          
        
        =
        
          
            p
            
              2
            
          
        
        =
        .
        .
        .
        =
        
          
            p
            
              n
            
          
        
        =
        1
        
          /
        
        n
      
    
    {\displaystyle {p_{1}}={p_{2}}=...={p_{n}}=1/n}
  , 
  
    
      
        λ
        =
        1
        +
        ln
        ⁡
        
          
            1
            n
          
        
      
    
    {\displaystyle \lambda =1+\ln {\frac {1}{n}}}
  .
Итак, точка, в которой может существовать экстремум, единственная. Учитывая, что функция 
  
    
      
        H
      
    
    {\displaystyle H}
   непрерывная и неотрицательно определенная, принимающая минимальное значение ноль (в случае, когда одна из вероятностей равна единице, а все остальные – нулю), то найденный экстремум является точкой глобального условного максимума, а сам максимум равен 
  
    
      
        H
        (
        
          
            1
            n
          
        
        ,
        .
        .
        .
        ,
        
          
            1
            n
          
        
        )
        =
        −
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              1
              n
            
          
          ln
          ⁡
          
            
              1
              n
            
          
        
        =
        ln
        ⁡
        n
      
    
    {\displaystyle H({\frac {1}{n}},...,{\frac {1}{n}})=-\sum \limits _{i=1}^{n}{{\frac {1}{n}}\ln {\frac {1}{n}}}=\ln n}
  .
Можно также доказать, что в наборе вероятностей 
  
    
      
        
          p
          
            1
          
        
        ,
        .
        .
        .
        ,
        
          p
          
            n
          
        
      
    
    {\displaystyle p_{1},...,p_{n}}
   для 
  
    
      
        n
      
    
    {\displaystyle n}
   несовместных элементарных исходов всякое изменение двух вероятностей в сторону их выравнивания (без изменения числа самих исходов) увеличивает энтропию распределения.
Доказать это просто. Поскольку изменяются только две вероятности, например, 
  
    
      
        
          p
          
            1
          
        
      
    
    {\displaystyle p_{1}}
   и 
  
    
      
        
          p
          
            2
          
        
      
    
    {\displaystyle p_{2}}
  , то остальные вероятности остаются неизменными. Поэтому слагаемые, входящие в формулу энтропии, связанные с остальными вероятностями, останутся неизменными и на приращение энтропии не повлияют. В то же время сумма 
  
    
      
        
          p
          
            1
          
        
        +
        
          p
          
            2
          
        
      
    
    {\displaystyle p_{1}+p_{2}}
   тоже останется неизменной (по той же причине). Поэтому доказательство достаточно провести всего для двух несовместных исходов, образующих полную группу событий – тогда утверждение можно считать доказанным и для произвольного 
  
    
      
        n
      
    
    {\displaystyle n}
   числа исходов.
Обозначим 
  
    
      
        
          p
          
            1
          
        
        =
        p
      
    
    {\displaystyle p_{1}=p}
  , 
  
    
      
        
          p
          
            2
          
        
        =
        1
        −
        p
      
    
    {\displaystyle p_{2}=1-p}
   и рассмотрим функцию 
  
    
      
        H
        (
        p
        ,
        1
        −
        p
        )
        =
        −
        p
        ln
        ⁡
        p
        −
        (
        1
        −
        p
        )
        ln
        ⁡
        (
        1
        −
        p
        )
      
    
    {\displaystyle H(p,1-p)=-p\ln p-(1-p)\ln(1-p)}
  .
Ее график зависимости от 
  
    
      
        p
      
    
    {\displaystyle p}
   очень похож на перевернутую параболу, проходящую через начало координат. Максимум достигается в точке 
  
    
      
        p
        =
        1
        −
        p
        =
        0
        ,
        5
      
    
    {\displaystyle p=1-p=0,5}
  . Кроме того, эта функция зеркально симметрична относительно линии 
  
    
      
        p
        =
        0
        ,
        5
      
    
    {\displaystyle p=0,5}
  . Это следует из того, что 
  
    
      
        H
        (
        p
        ,
        1
        −
        p
        )
        =
        H
        (
        1
        −
        p
        ,
        p
        )
      
    
    {\displaystyle H(p,1-p)=H(1-p,p)}
  . Поэтому, исходя из графика, очевидно, что любое изменение вероятностей в сторону выравнивания приводит к увеличению энтропии.

Энтропия непрерывного распределения
Шеннон первоначально записал следующую формулу для энтропии непрерывного распределения, которая известна также как дифференциальная энтропия:

  
    
      
        H
        (
        X
        )
        =
        −
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          f
          (
          x
          )
          log
          ⁡
          f
          (
          x
          )
          d
          x
        
      
    
    {\displaystyle H(X)=-\int \limits _{-\infty }^{\infty }{f(x)\log f(x)dx}}
  .
Здесь 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   — неизвестная функция распределения плотности вероятностей случайной величины 
  
    
      
        X
      
    
    {\displaystyle X}
  . (Если 
  
    
      
        f
        (
        x
        )
        =
        0
      
    
    {\displaystyle f(x)=0}
  , то подынтегральная функция заменяется своим пределом в этой точке 
  
    
      
        x
      
    
    {\displaystyle x}
  .)
Однако, в отличие от шенноновской формулы энтропии дискретного распределения, данная формула не является результатом какого-либо вывода (Шеннон просто заменил знак суммы знаком интеграла). И, строго говоря, она не может быть выведена последовательным переходом от дискретной формулы энтропии к непрерывной посредством вычисления предела интегральных частичных сумм интеграла Римана (получится бесконечная величина). Тем не менее, дифференциальная энтропия имеет смысл средней неопределенности выбора случайной величины с произвольным законом распределения за вычетом неопределенности случайной величины, равномерно распределенной в единичном интервале.
Кроме дифференциальной энтропии, известны также англ. Kullback–Leibler divergence и англ. Principle_of_maximum_entropy#Continuous_case. Но далее для объяснения принципа максимальной энтропии будет использована именно дифференциальная энтропия.

Максимум дифференциальной энтропии и вариационное исчисление
Можно доказать, что дифференциальная энтропия принимает максимальное значение на равномерном распределении. Чтобы доказать это, найдем условный максимум дифференциальной энтропии 
  
    
      
        H
        (
        X
        )
        =
        −
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          f
          (
          x
          )
          ln
          ⁡
          f
          (
          x
          )
          d
          x
        
      
    
    {\displaystyle H(X)=-\int \limits _{-\infty }^{\infty }{f(x)\ln f(x)dx}}
   при условии, что 
  
    
      
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          f
          (
          x
          )
          d
          x
        
        =
        1
      
    
    {\displaystyle \int \limits _{-\infty }^{\infty }{f(x)dx}=1}
  .
В этих условиях нужно найти такую функцию 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
  , чтобы интеграл дифференциальной энтропии принял максимальное значение. Ясно, что в данном случае сам вид функции 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   становится некой переменной величиной, поэтому необходимо использовать вариационное исчисление, основной задачей которого является поиск функции, на которой заданный функционал достигает экстремальных значений.
Метод вариации напоминает метод Лагранжа и вкратце заключается в следующем.
Пусть задан функционал 
  
    
      
        J
        =
        
          ∫
          
            a
          
          
            b
          
        
        
          F
          (
          x
          ,
          f
          (
          x
          )
          ,
          
            f
            ′
          
          (
          x
          )
          )
          d
          x
        
      
    
    {\displaystyle J=\int \limits _{a}^{b}{F(x,f(x),f'(x))dx}}
   с подынтегральной  функцией 
  
    
      
        F
        (
        x
        ,
        f
        (
        x
        )
        ,
        
          f
          ′
        
        (
        x
        )
        )
      
    
    {\displaystyle F(x,f(x),f'(x))}
  , обладающей непрерывными первыми частными производными, называемой функцией Лагранжа. Если этот функционал достигает экстремума на некоторой функции 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
  , то для нее должно выполняться дифференциальное уравнение в частных производных 
  
    
      
        
          
            
              ∂
              F
            
            
              ∂
              f
            
          
        
        =
        
          
            d
            
              d
              x
            
          
        
        
          
            
              ∂
              F
            
            
              ∂
              
                
                  f
                  ′
                
              
            
          
        
      
    
    {\displaystyle {\frac {\partial F}{\partial f}}={\frac {d}{dx}}{\frac {\partial F}{\partial {f'}}}}
  , называемое уравнением Эйлера-Лагранжа. Другими словами, данное уравнение является необходимым условием существования экстремума функционала 
  
    
      
        J
      
    
    {\displaystyle J}
   на функции 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
  . Если на функцию 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   накладывается дополнительное условие вида 
  
    
      
        
          ∫
          
            a
          
          
            b
          
        
        
          φ
          (
          f
          (
          x
          )
          )
          d
          x
        
        =
        c
      
    
    {\displaystyle \int \limits _{a}^{b}{\varphi (f(x))dx}=c}
  , то искомый экстремум называется условным, а функция Лагранжа принимает вид 
  
    
      
        L
        =
        F
        +
        λ
        φ
      
    
    {\displaystyle L=F+\lambda \varphi }
  , и дифференциальное уравнение нужно решать уже для этой новой функции. Найденная функция 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   будет зависеть не только от 
  
    
      
        x
      
    
    {\displaystyle x}
  , но и от параметра 
  
    
      
        λ
      
    
    {\displaystyle \lambda }
  . Тогда нужно подставить 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   в интеграл условия и найти 
  
    
      
        λ
      
    
    {\displaystyle \lambda }
  .
В случае дифференциальной энтропии функция Лагранжа принимает вид 
  
    
      
        L
        =
        −
        f
        (
        x
        )
        ln
        ⁡
        f
        (
        x
        )
        +
        λ
        f
        (
        x
        )
      
    
    {\displaystyle L=-f(x)\ln f(x)+\lambda f(x)}
  . Тогда 
  
    
      
        
          {
          
            
              
                
                  
                    
                      
                        ∂
                        L
                      
                      
                        ∂
                        f
                      
                    
                  
                  =
                  −
                  ln
                  ⁡
                  f
                  −
                  1
                  +
                  λ
                
              
              
                
                  
                    
                      
                        ∂
                        L
                      
                      
                        ∂
                        
                          f
                          ′
                        
                      
                    
                  
                  =
                  0
                
              
              
                
                  
                    
                      d
                      
                        d
                        x
                      
                    
                  
                  
                    
                      
                        ∂
                        L
                      
                      
                        ∂
                        
                          f
                          ′
                        
                      
                    
                  
                  =
                  0
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{\frac {\partial L}{\partial f}}=-\ln f-1+\lambda \\{\frac {\partial L}{\partial f'}}=0\\{\frac {d}{dx}}{\frac {\partial L}{\partial f'}}=0\end{array}}\right.}
  , откуда уравнение Эйлера-Лагранжа принимает вид 
  
    
      
        
          
            
              ∂
              L
            
            
              ∂
              f
            
          
        
        =
        −
        ln
        ⁡
        f
        −
        1
        +
        λ
        =
        0
      
    
    {\displaystyle {\frac {\partial L}{\partial f}}=-\ln f-1+\lambda =0}
  .
Решением этого уравнения является функция 
  
    
      
        f
        (
        x
        )
        =
        
          
            e
            
              λ
              −
              1
            
          
        
      
    
    {\displaystyle f(x)={e^{\lambda -1}}}
  , то есть константа от 
  
    
      
        x
      
    
    {\displaystyle x}
  . Подставляем ее в условие и получаем 
  
    
      
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          
            
              e
              
                λ
                −
                1
              
            
          
          d
          x
        
        =
        1
      
    
    {\displaystyle \int \limits _{-\infty }^{\infty }{{e^{\lambda -1}}dx}=1}
  .
Ясно, что такое уравнение не имеет решений, как ясно и то, что случайная величина не может быть распределена равномерно на всей области действительных чисел. Пусть все возможные значения 
  
    
      
        X
      
    
    {\displaystyle X}
   лежат на некотором отрезке 
  
    
      
        [
        a
        ;
        b
        ]
      
    
    {\displaystyle [a;b]}
  . Тогда 
  
    
      
        
          ∫
          
            a
          
          
            b
          
        
        
          
            
              e
              
                λ
                −
                1
              
            
          
          d
          x
        
        =
        1
      
    
    {\displaystyle \int \limits _{a}^{b}{{e^{\lambda -1}}dx}=1}
  , откуда 
  
    
      
        λ
        =
        1
        −
        ln
        ⁡
        (
        b
        −
        a
        )
      
    
    {\displaystyle \lambda =1-\ln(b-a)}
  , 
  
    
      
        f
        (
        x
        )
        =
        
          
            e
            
              λ
              −
              1
            
          
        
        =
        
          
            1
            
              b
              −
              a
            
          
        
      
    
    {\displaystyle f(x)={e^{\lambda -1}}={\frac {1}{b-a}}}
  . Для всех остальных 
  
    
      
        x
      
    
    {\displaystyle x}
   верно 
  
    
      
        f
        (
        x
        )
        =
        0
      
    
    {\displaystyle f(x)=0}
  .

Экстремальные распределения
Сам по себе найденный функционал (энтропия Шеннона в дискретной либо дифференциальной форме) пока что ещё ничего не даёт. Поскольку ничего не известно об исходах случайного эксперимента, принцип максимума энтропии предписывает назначить всем исходам равные вероятности. Если же речь идет о непрерывной случайной величине, то предполагается, что она распределена равномерно. Но для того, чтобы провести подобное назначение, никакого функционала не требуется. Функционал позволяет лишь количественно сравнивать неопределенности различных распределений.
Смысл принципа максимальной энтропии начинает проявляться тогда, когда на вероятностное распределение наложены какие-либо ограничения. Принцип максимума энтропии в этом случае заключается в том, чтобы найти максимум энтропии при наложенных ограничениях. Полученное таким образом распределение называется экстремальным.
Найдём максимум энтропии в случаях, когда на распределение случайной величины наложены какие-либо ограничения, например, известны какие-либо её моменты. При использовании метода множителей Лагранжа и метода вариационного исчисления будет показано, что:

если известно матожидание или второй начальный момент, или и то, и другое дискретной случайной величины, то её экстремальное распределение является одной из разновидностей дискретного распределения Гиббса
если известно матожидание непрерывной случайной величины, то её экстремальное распределение является непрерывным распределением Гиббса
если известны матожидание и дисперсия непрерывной случайной величины, то её экстремальное распределение является нормальным распределением с этими параметрами. Если матожидание не известно, оно назначается равным нулю.

О случайной величине не известно ничего (дискретный и непрерывный случаи)
В этом случае принцип максимума энтропии предписывает считать, что случайная величина распределена равномерно. Уже было показано ранее, что энтропия Шеннона в любой (дискретной либо непрерывной) форме принимает максимально возможное значение на таком распределении.

Известно только матожидание (дискретный случай)
Предположим, что известно только матожидание дискретного распределения вероятностей некоторой случайной величины 
  
    
      
        X
      
    
    {\displaystyle X}
  : 
  
    
      
        M
        [
        X
        ]
        =
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              x
              
                i
              
            
          
          
            
              p
              
                i
              
            
          
        
        =
        m
      
    
    {\displaystyle M[X]=\sum \limits _{i=1}^{n}{{x_{i}}{p_{i}}}=m}
  . Каково в этом случае само распределение?
На распределение накладываются дополнительные ограничения:

  
    
      
        ∀
        i
        :
        0
        ≤
        
          
            p
            
              i
            
          
        
        ≤
        1
      
    
    {\displaystyle \forall i:0\leq {p_{i}}\leq 1}
  

  
    
      
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            p
            
              i
            
          
        
        =
        1
      
    
    {\displaystyle \sum \limits _{i=1}^{n}{p_{i}}=1}
  Согласно принципу максимальной энтропии нужно максимизировать при этих условиях функцию 
  
    
      
        H
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        =
        −
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              p
              
                i
              
            
          
          ln
          ⁡
          
            
              p
              
                i
              
            
          
        
      
    
    {\displaystyle H({p_{1}},...,{p_{n}})=-\sum \limits _{i=1}^{n}{{p_{i}}\ln {p_{i}}}}
  
Составим функцию Лагранжа и найдем точки возможного экстремума:

  
    
      
        L
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        =
        H
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        +
        
          
            λ
            
              1
            
          
        
        
          (
          
            
              ∑
              
                i
                =
                1
              
              
                n
              
            
            
              
                p
                
                  i
                
              
            
            −
            1
          
          )
        
        +
        
          
            λ
            
              2
            
          
        
        
          (
          
            
              ∑
              
                i
                =
                1
              
              
                n
              
            
            
              
                
                  x
                  
                    i
                  
                
              
              
                
                  p
                  
                    i
                  
                
              
            
            −
            m
          
          )
        
      
    
    {\displaystyle L({p_{1}},...,{p_{n}})=H({p_{1}},...,{p_{n}})+{\lambda _{1}}\left({\sum \limits _{i=1}^{n}{p_{i}}-1}\right)+{\lambda _{2}}\left({\sum \limits _{i=1}^{n}{{x_{i}}{p_{i}}}-m}\right)}
  
Система из частных производных и наложенных условий имеет вид:

  
    
      
        
          {
          
            
              
                
                  
                    
                      
                        ∂
                        L
                        (
                        
                          
                            p
                            
                              1
                            
                          
                        
                        ,
                        .
                        .
                        .
                        ,
                        
                          
                            p
                            
                              n
                            
                          
                        
                        )
                      
                      
                        ∂
                        
                          
                            p
                            
                              1
                            
                          
                        
                      
                    
                  
                  =
                  −
                  (
                  ln
                  ⁡
                  
                    
                      p
                      
                        1
                      
                    
                  
                  +
                  1
                  )
                  +
                  
                    
                      λ
                      
                        1
                      
                    
                  
                  +
                  
                    
                      λ
                      
                        2
                      
                    
                  
                  
                    
                      x
                      
                        1
                      
                    
                  
                  =
                  0
                
              
              
                
                  .
                  .
                  .
                
              
              
                
                  
                    
                      
                        ∂
                        L
                        (
                        
                          
                            p
                            
                              1
                            
                          
                        
                        ,
                        .
                        .
                        .
                        ,
                        
                          
                            p
                            
                              n
                            
                          
                        
                        )
                      
                      
                        ∂
                        
                          
                            p
                            
                              n
                            
                          
                        
                      
                    
                  
                  =
                  −
                  (
                  ln
                  ⁡
                  
                    
                      p
                      
                        n
                      
                    
                  
                  +
                  1
                  )
                  +
                  
                    
                      λ
                      
                        1
                      
                    
                  
                  +
                  
                    
                      λ
                      
                        2
                      
                    
                  
                  
                    
                      x
                      
                        n
                      
                    
                  
                  =
                  0
                
              
              
                
                  m
                  =
                  
                    ∑
                    
                      i
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      
                        x
                        
                          i
                        
                      
                    
                    
                      
                        p
                        
                          i
                        
                      
                    
                  
                
              
              
                
                  
                    ∑
                    
                      i
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      p
                      
                        i
                      
                    
                  
                  =
                  1
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{\frac {\partial L({p_{1}},...,{p_{n}})}{\partial {p_{1}}}}=-(\ln {p_{1}}+1)+{\lambda _{1}}+{\lambda _{2}}{x_{1}}=0\\...\\{\frac {\partial L({p_{1}},...,{p_{n}})}{\partial {p_{n}}}}=-(\ln {p_{n}}+1)+{\lambda _{1}}+{\lambda _{2}}{x_{n}}=0\\m=\sum \limits _{i=1}^{n}{{x_{i}}{p_{i}}}\\\sum \limits _{i=1}^{n}{p_{i}}=1\end{array}}\right.}
  
Вычитая из первого уравнения 
  
    
      
        i
      
    
    {\displaystyle i}
  -е, получим 
  
    
      
        
          
            p
            
              i
            
          
        
        =
        
          
            p
            
              1
            
          
        
        
          
            e
            
              
                
                  λ
                  
                    2
                  
                
              
              (
              
                
                  x
                  
                    i
                  
                
              
              −
              
                
                  x
                  
                    1
                  
                
              
              )
            
          
        
      
    
    {\displaystyle {p_{i}}={p_{1}}{e^{{\lambda _{2}}({x_{i}}-{x_{1}})}}}
  .
Объединяя полученное уравнение в систему с условием нормировки и решая ее, получим:

  
    
      
        
          {
          
            
              
                
                  
                    
                      p
                      
                        i
                      
                    
                  
                  =
                  
                    
                      p
                      
                        1
                      
                    
                  
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              2
                            
                          
                        
                        (
                        
                          
                            x
                            
                              i
                            
                          
                        
                        −
                        
                          
                            x
                            
                              1
                            
                          
                        
                        )
                      
                    
                  
                
              
              
                
                  1
                  =
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      p
                      
                        k
                      
                    
                  
                  =
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      
                        p
                        
                          1
                        
                      
                    
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          (
                          
                            
                              x
                              
                                k
                              
                            
                          
                          −
                          
                            
                              x
                              
                                1
                              
                            
                          
                          )
                        
                      
                    
                  
                  =
                  
                    
                      p
                      
                        1
                      
                    
                  
                  
                    
                      e
                      
                        −
                        
                          
                            λ
                            
                              2
                            
                          
                        
                        
                          
                            x
                            
                              1
                            
                          
                        
                      
                    
                  
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              2
                            
                          
                        
                        
                          
                            x
                            
                              k
                            
                          
                        
                      
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{p_{i}}={p_{1}}{e^{{\lambda _{2}}({x_{i}}-{x_{1}})}}\\1=\sum \limits _{k=1}^{n}{p_{k}}=\sum \limits _{k=1}^{n}{{p_{1}}{e^{{\lambda _{2}}({x_{k}}-{x_{1}})}}}={p_{1}}{e^{-{\lambda _{2}}{x_{1}}}}\sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}}}\end{array}}\right.}
  , откуда 
  
    
      
        
          
            p
            
              i
            
          
        
        =
        
          
            
              e
              
                
                  
                    λ
                    
                      2
                    
                  
                
                
                  
                    x
                    
                      i
                    
                  
                
              
            
            
              
                ∑
                
                  k
                  =
                  1
                
                
                  n
                
              
              
                
                  e
                  
                    
                      
                        λ
                        
                          2
                        
                      
                    
                    
                      
                        x
                        
                          k
                        
                      
                    
                  
                
              
            
          
        
      
    
    {\displaystyle {p_{i}}={\frac {e^{{\lambda _{2}}{x_{i}}}}{\sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}}}}}}
  .
Теперь из 
  
    
      
        i
      
    
    {\displaystyle i}
  -го уравнения 
  
    
      
        
          
            p
            
              i
            
          
        
        =
        
          
            e
            
              
                
                  λ
                  
                    2
                  
                
              
              
                
                  x
                  
                    i
                  
                
              
              +
              
                
                  λ
                  
                    1
                  
                
              
              −
              1
            
          
        
        =
        
          
            e
            
              
                
                  λ
                  
                    1
                  
                
              
              −
              1
            
          
        
        
          
            e
            
              
                
                  λ
                  
                    2
                  
                
              
              
                
                  x
                  
                    i
                  
                
              
            
          
        
      
    
    {\displaystyle {p_{i}}={e^{{\lambda _{2}}{x_{i}}+{\lambda _{1}}-1}}={e^{{\lambda _{1}}-1}}{e^{{\lambda _{2}}{x_{i}}}}}
  следует 
  
    
      
        
          ∑
          
            k
            =
            1
          
          
            n
          
        
        
          
            e
            
              
                
                  λ
                  
                    2
                  
                
              
              
                
                  x
                  
                    k
                  
                
              
            
          
        
        =
        
          
            e
            
              1
              −
              
                
                  λ
                  
                    1
                  
                
              
            
          
        
      
    
    {\displaystyle \sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}}}={e^{1-{\lambda _{1}}}}}
  .
Наконец, исходя из уравнения для матожидания, можно записать 
  
    
      
        m
        =
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              x
              
                i
              
            
          
          
            
              p
              
                i
              
            
          
        
        =
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            (
            
              
                
                  x
                  
                    i
                  
                
              
              
                
                  
                    e
                    
                      
                        
                          λ
                          
                            2
                          
                        
                      
                      
                        
                          x
                          
                            i
                          
                        
                      
                    
                  
                  
                    
                      ∑
                      
                        k
                        =
                        1
                      
                      
                        n
                      
                    
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              x
                              
                                k
                              
                            
                          
                        
                      
                    
                  
                
              
            
            )
          
        
        =
        
          
            
              
                ∑
                
                  k
                  =
                  1
                
                
                  n
                
              
              
                
                  
                    x
                    
                      k
                    
                  
                
                
                  
                    e
                    
                      
                        
                          λ
                          
                            2
                          
                        
                      
                      
                        
                          x
                          
                            k
                          
                        
                      
                    
                  
                
              
            
            
              
                ∑
                
                  k
                  =
                  1
                
                
                  n
                
              
              
                
                  e
                  
                    
                      
                        λ
                        
                          2
                        
                      
                    
                    
                      
                        x
                        
                          k
                        
                      
                    
                  
                
              
            
          
        
      
    
    {\displaystyle m=\sum \limits _{i=1}^{n}{{x_{i}}{p_{i}}}=\sum \limits _{i=1}^{n}{\left({{x_{i}}{\frac {e^{{\lambda _{2}}{x_{i}}}}{\sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}}}}}}\right)}={\frac {\sum \limits _{k=1}^{n}{{x_{k}}{e^{{\lambda _{2}}{x_{k}}}}}}{\sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}}}}}}
  , откуда следует 
  
    
      
        
          ∑
          
            k
            =
            1
          
          
            n
          
        
        
          (
          
            
              x
              
                k
              
            
          
          −
          m
          )
          
            
              e
              
                
                  
                    λ
                    
                      2
                    
                  
                
                
                  
                    x
                    
                      k
                    
                  
                
              
            
          
        
        =
        0
      
    
    {\displaystyle \sum \limits _{k=1}^{n}{({x_{k}}-m){e^{{\lambda _{2}}{x_{k}}}}}=0}
  .
Окончательно исходная система может быть представлена в виде:

  
    
      
        
          {
          
            
              
                
                  
                    
                      p
                      
                        i
                      
                    
                  
                  =
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              x
                              
                                i
                              
                            
                          
                        
                      
                      
                        
                          ∑
                          
                            k
                            =
                            1
                          
                          
                            n
                          
                        
                        
                          
                            e
                            
                              
                                
                                  λ
                                  
                                    2
                                  
                                
                              
                              
                                
                                  x
                                  
                                    k
                                  
                                
                              
                            
                          
                        
                      
                    
                  
                  ,
                  i
                  ∈
                  {
                  1
                  ,
                  .
                  .
                  .
                  ,
                  n
                  }
                
              
              
                
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    (
                    
                      
                        x
                        
                          k
                        
                      
                    
                    −
                    m
                    )
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              x
                              
                                k
                              
                            
                          
                        
                      
                    
                  
                  =
                  0
                
              
              
                
                  
                    
                      e
                      
                        1
                        −
                        
                          
                            λ
                            
                              1
                            
                          
                        
                      
                    
                  
                  =
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              2
                            
                          
                        
                        
                          
                            x
                            
                              k
                            
                          
                        
                      
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{p_{i}}={\frac {e^{{\lambda _{2}}{x_{i}}}}{\sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}}}}},i\in \{1,...,n\}\\\sum \limits _{k=1}^{n}{({x_{k}}-m){e^{{\lambda _{2}}{x_{k}}}}}=0\\{e^{1-{\lambda _{1}}}}=\sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}}}\end{array}}\right.}
  
Достаточно легко доказать, что решение второго уравнения системы относительно 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
   всегда существует и единственно, пусть и не всегда представимо в виде явной функции аргумента 
  
    
      
        m
      
    
    {\displaystyle m}
  . При желании (хотя и не обязательно) можно из третьего уравнения выразить 
  
    
      
        
          λ
          
            1
          
        
      
    
    {\displaystyle \lambda _{1}}
   через 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
  . Но, самое главное, при подстановке 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
   в первое уравнение, получится дискретное вероятностное распределение с матожиданием 
  
    
      
        m
      
    
    {\displaystyle m}
  .
Поскольку найденное решение единственно, то найденная точка скорее всего является экстремумом энтропии, причем, этот экстремум - глобальный условный максимум.
Найденное вероятностное распределение 
  
    
      
        
          p
          
            i
          
        
      
    
    {\displaystyle p_{i}}
   называется англ. Boltzmann_distribution, которое также известно как распределение Гиббса.

Известен только второй начальный момент (дискретный случай)
Предположим, что известен только второй начальный момент 
  
    
      
        
          
            δ
            
              2
            
          
        
      
    
    {\displaystyle {\delta ^{2}}}
   дискретного распределения вероятностей некоторой случайной величины 
  
    
      
        X
      
    
    {\displaystyle X}
  : 
  
    
      
        
          
            δ
            
              2
            
          
        
        =
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        
          
            
              
                x
                
                  i
                
              
            
            
              2
            
          
          
            
              p
              
                i
              
            
          
        
      
    
    {\displaystyle {\delta ^{2}}=\sum \limits _{i=1}^{n}{{x_{i}}^{2}{p_{i}}}}
  . Каково в этом случае само распределение?
Ясно, что этот случай ничем не отличается от предыдущего, за исключением того, что величины 
  
    
      
        
          x
          
            i
          
        
      
    
    {\displaystyle x_{i}}
   нужно заменить величинами 
  
    
      
        
          x
          
            i
          
          
            2
          
        
      
    
    {\displaystyle x_{i}^{2}}
  , 
  
    
      
        m
      
    
    {\displaystyle m}
   нужно заменить на 
  
    
      
        
          
            δ
            
              2
            
          
        
      
    
    {\displaystyle {\delta ^{2}}}
  . Окончательно распределение будет иметь вид 
  
    
      
        
          {
          
            
              
                
                  P
                  (
                  X
                  =
                  
                    
                      x
                      
                        i
                      
                    
                  
                  )
                  =
                  
                    
                      p
                      
                        i
                      
                    
                  
                  =
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              
                                x
                                
                                  i
                                
                              
                            
                            
                              2
                            
                          
                        
                      
                      
                        
                          ∑
                          
                            k
                            =
                            1
                          
                          
                            n
                          
                        
                        
                          
                            e
                            
                              
                                
                                  λ
                                  
                                    2
                                  
                                
                              
                              
                                
                                  
                                    x
                                    
                                      k
                                    
                                  
                                
                                
                                  2
                                
                              
                            
                          
                        
                      
                    
                  
                  ,
                  i
                  ∈
                  {
                  1
                  ,
                  .
                  .
                  .
                  ,
                  n
                  }
                
              
              
                
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    (
                    
                      
                        
                          x
                          
                            k
                          
                        
                      
                      
                        2
                      
                    
                    −
                    
                      
                        δ
                        
                          2
                        
                      
                    
                    )
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              
                                x
                                
                                  k
                                
                              
                            
                            
                              2
                            
                          
                        
                      
                    
                  
                  =
                  0
                
              
              
                
                  
                    
                      e
                      
                        1
                        −
                        
                          
                            λ
                            
                              1
                            
                          
                        
                      
                    
                  
                  =
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              2
                            
                          
                        
                        
                          
                            
                              x
                              
                                k
                              
                            
                          
                          
                            2
                          
                        
                      
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}P(X={x_{i}})={p_{i}}={\frac {e^{{\lambda _{2}}{x_{i}}^{2}}}{\sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}^{2}}}}},i\in \{1,...,n\}\\\sum \limits _{k=1}^{n}{({x_{k}}^{2}-{\delta ^{2}}){e^{{\lambda _{2}}{x_{k}}^{2}}}}=0\\{e^{1-{\lambda _{1}}}}=\sum \limits _{k=1}^{n}{e^{{\lambda _{2}}{x_{k}}^{2}}}\end{array}}\right.}
  
Легко видеть в этом случае, что, если 
  
    
      
        
          x
          
            i
          
        
        =
        −
        
          x
          
            j
          
        
      
    
    {\displaystyle x_{i}=-x_{j}}
  , то 
  
    
      
        P
        (
        X
        =
        
          x
          
            i
          
        
        )
        =
        P
        (
        X
        =
        
          x
          
            j
          
        
        )
      
    
    {\displaystyle P(X=x_{i})=P(X=x_{j})}
  .

Известны матожидание и второй начальный момент (дискретный случай)
Функция Лагранжа в этом случае имеет вид 
  
    
      
        L
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        =
        H
        (
        
          
            p
            
              1
            
          
        
        ,
        .
        .
        .
        ,
        
          
            p
            
              n
            
          
        
        )
        +
        
          
            λ
            
              1
            
          
        
        
          (
          
            
              ∑
              
                i
                =
                1
              
              
                n
              
            
            
              
                p
                
                  i
                
              
            
            −
            1
          
          )
        
        +
        
          
            λ
            
              2
            
          
        
        
          (
          
            
              ∑
              
                i
                =
                1
              
              
                n
              
            
            
              
                
                  x
                  
                    i
                  
                
              
              
                
                  p
                  
                    i
                  
                
              
            
            −
            m
          
          )
        
        +
        
          
            λ
            
              3
            
          
        
        
          (
          
            
              ∑
              
                i
                =
                1
              
              
                n
              
            
            
              
                
                  
                    x
                    
                      i
                    
                  
                
                
                  2
                
              
              
                
                  p
                  
                    i
                  
                
              
            
            −
            
              
                δ
                
                  2
                
              
            
          
          )
        
      
    
    {\displaystyle L({p_{1}},...,{p_{n}})=H({p_{1}},...,{p_{n}})+{\lambda _{1}}\left({\sum \limits _{i=1}^{n}{p_{i}}-1}\right)+{\lambda _{2}}\left({\sum \limits _{i=1}^{n}{{x_{i}}{p_{i}}}-m}\right)+{\lambda _{3}}\left({\sum \limits _{i=1}^{n}{{x_{i}}^{2}{p_{i}}}-{\delta ^{2}}}\right)}
  
Система уравнений, являющаяся необходимым условием существования экстремума, имеет вид:

  
    
      
        
          {
          
            
              
                
                  −
                  (
                  ln
                  ⁡
                  
                    
                      p
                      
                        1
                      
                    
                  
                  +
                  1
                  )
                  +
                  
                    
                      λ
                      
                        1
                      
                    
                  
                  +
                  
                    
                      λ
                      
                        2
                      
                    
                  
                  
                    
                      x
                      
                        1
                      
                    
                  
                  +
                  
                    
                      λ
                      
                        3
                      
                    
                  
                  
                    
                      
                        x
                        
                          1
                        
                      
                    
                    
                      2
                    
                  
                  =
                  0
                
              
              
                
                  .
                  .
                  .
                
              
              
                
                  −
                  (
                  ln
                  ⁡
                  
                    
                      p
                      
                        n
                      
                    
                  
                  +
                  1
                  )
                  +
                  
                    
                      λ
                      
                        1
                      
                    
                  
                  +
                  
                    
                      λ
                      
                        2
                      
                    
                  
                  
                    
                      x
                      
                        n
                      
                    
                  
                  +
                  
                    
                      λ
                      
                        3
                      
                    
                  
                  
                    
                      
                        x
                        
                          n
                        
                      
                    
                    
                      2
                    
                  
                  =
                  0
                
              
              
                
                  1
                  =
                  
                    ∑
                    
                      i
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      p
                      
                        i
                      
                    
                  
                
              
              
                
                  m
                  =
                  
                    ∑
                    
                      i
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      
                        x
                        
                          i
                        
                      
                    
                    
                      
                        p
                        
                          i
                        
                      
                    
                  
                
              
              
                
                  
                    
                      δ
                      
                        2
                      
                    
                  
                  =
                  
                    ∑
                    
                      i
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      
                        
                          x
                          
                            i
                          
                        
                      
                      
                        2
                      
                    
                    
                      
                        p
                        
                          i
                        
                      
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}-(\ln {p_{1}}+1)+{\lambda _{1}}+{\lambda _{2}}{x_{1}}+{\lambda _{3}}{x_{1}}^{2}=0\\...\\-(\ln {p_{n}}+1)+{\lambda _{1}}+{\lambda _{2}}{x_{n}}+{\lambda _{3}}{x_{n}}^{2}=0\\1=\sum \limits _{i=1}^{n}{p_{i}}\\m=\sum \limits _{i=1}^{n}{{x_{i}}{p_{i}}}\\{\delta ^{2}}=\sum \limits _{i=1}^{n}{{x_{i}}^{2}{p_{i}}}\end{array}}\right.}
  . Ее можно привести к виду 
  
    
      
        
          {
          
            
              
                
                  
                    
                      p
                      
                        i
                      
                    
                  
                  =
                  
                    
                      
                        e
                        
                          
                            
                              x
                              
                                i
                              
                            
                          
                          (
                          
                            
                              λ
                              
                                3
                              
                            
                          
                          
                            
                              x
                              
                                i
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          )
                        
                      
                      
                        
                          ∑
                          
                            k
                            =
                            1
                          
                          
                            n
                          
                        
                        
                          
                            e
                            
                              
                                
                                  x
                                  
                                    k
                                  
                                
                              
                              (
                              
                                
                                  λ
                                  
                                    3
                                  
                                
                              
                              
                                
                                  x
                                  
                                    k
                                  
                                
                              
                              +
                              
                                
                                  λ
                                  
                                    2
                                  
                                
                              
                              )
                            
                          
                        
                      
                    
                  
                
              
              
                
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    (
                    
                      
                        x
                        
                          k
                        
                      
                    
                    −
                    m
                    )
                    
                      
                        e
                        
                          
                            
                              x
                              
                                k
                              
                            
                          
                          (
                          
                            
                              λ
                              
                                3
                              
                            
                          
                          
                            
                              x
                              
                                k
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          )
                        
                      
                    
                  
                  =
                  0
                
              
              
                
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    (
                    
                      
                        
                          x
                          
                            k
                          
                        
                      
                      
                        2
                      
                    
                    −
                    
                      
                        δ
                        
                          2
                        
                      
                    
                    )
                    
                      
                        e
                        
                          
                            
                              x
                              
                                k
                              
                            
                          
                          (
                          
                            
                              λ
                              
                                3
                              
                            
                          
                          
                            
                              x
                              
                                k
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          )
                        
                      
                    
                  
                  =
                  0
                
              
              
                
                  
                    
                      e
                      
                        1
                        −
                        
                          
                            λ
                            
                              1
                            
                          
                        
                      
                    
                  
                  =
                  
                    ∑
                    
                      k
                      =
                      1
                    
                    
                      n
                    
                  
                  
                    
                      e
                      
                        
                          
                            x
                            
                              k
                            
                          
                        
                        (
                        
                          
                            λ
                            
                              3
                            
                          
                        
                        
                          
                            x
                            
                              k
                            
                          
                        
                        +
                        
                          
                            λ
                            
                              2
                            
                          
                        
                        )
                      
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{p_{i}}={\frac {e^{{x_{i}}({\lambda _{3}}{x_{i}}+{\lambda _{2}})}}{\sum \limits _{k=1}^{n}{e^{{x_{k}}({\lambda _{3}}{x_{k}}+{\lambda _{2}})}}}}\\\sum \limits _{k=1}^{n}{({x_{k}}-m){e^{{x_{k}}({\lambda _{3}}{x_{k}}+{\lambda _{2}})}}}=0\\\sum \limits _{k=1}^{n}{({x_{k}}^{2}-{\delta ^{2}}){e^{{x_{k}}({\lambda _{3}}{x_{k}}+{\lambda _{2}})}}}=0\\{e^{1-{\lambda _{1}}}}=\sum \limits _{k=1}^{n}{e^{{x_{k}}({\lambda _{3}}{x_{k}}+{\lambda _{2}})}}\end{array}}\right.}
  
Задача доказательства существования и единственности решения в данном случае гораздо более сложная. Тем более, задача нахождения параметров 
  
    
      
        
          λ
          
            1
          
        
      
    
    {\displaystyle \lambda _{1}}
   и 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
   из второго и третьего уравнений системы. Однако, если доказательство возможно, тогда экстремальное распределение с заданными параметрами будет иметь как раз найденный вид.

Известно только матожидание (непрерывный случай)
Предположим, что известно только матожидание непрерывного распределения вероятностей некоторой случайной величины 
  
    
      
        X
      
    
    {\displaystyle X}
  : 
  
    
      
        M
        [
        X
        ]
        =
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          x
          f
          (
          x
          )
          d
          x
        
        =
        m
      
    
    {\displaystyle M[X]=\int \limits _{-\infty }^{\infty }{xf(x)dx}=m}
  . Какова в этом случае функция 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   распределения плотности вероятностей?
На распределение накладываются дополнительные ограничения:

  
    
      
        ∀
        x
        :
        f
        (
        x
        )
        ≥
        0
      
    
    {\displaystyle \forall x:f(x)\geq 0}
  

  
    
      
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          f
          (
          x
          )
          d
          x
        
        =
        1
      
    
    {\displaystyle \int \limits _{-\infty }^{\infty }{f(x)dx}=1}
  Согласно принципу максимальной энтропии нужно максимизировать при этих условиях функцию 
  
    
      
        H
        (
        X
        )
        =
        −
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          f
          (
          x
          )
          ln
          ⁡
          f
          (
          x
          )
          d
          x
        
      
    
    {\displaystyle H(X)=-\int \limits _{-\infty }^{\infty }{f(x)\ln f(x)dx}}
  
Составим функцию Лагранжа и найдем 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
  , для которой возможен экстремум 
  
    
      
        H
      
    
    {\displaystyle H}
  : 
  
    
      
        L
        =
        −
        f
        (
        x
        )
        ln
        ⁡
        f
        (
        x
        )
        +
        
          
            λ
            
              1
            
          
        
        f
        (
        x
        )
        +
        
          
            λ
            
              2
            
          
        
        x
        f
        (
        x
        )
      
    
    {\displaystyle L=-f(x)\ln f(x)+{\lambda _{1}}f(x)+{\lambda _{2}}xf(x)}
  
Уравнение Эйлера-Лагранжа в данном случае имеет вид 
  
    
      
        
          
            
              ∂
              L
            
            
              ∂
              f
            
          
        
        =
        −
        ln
        ⁡
        f
        −
        1
        +
        
          
            λ
            
              1
            
          
        
        +
        
          
            λ
            
              2
            
          
        
        x
        =
        0
      
    
    {\displaystyle {\frac {\partial L}{\partial f}}=-\ln f-1+{\lambda _{1}}+{\lambda _{2}}x=0}
  .
Его решением является функция 
  
    
      
        f
        (
        x
        )
        =
        
          
            e
            
              
                
                  λ
                  
                    2
                  
                
              
              x
              +
              
                
                  λ
                  
                    1
                  
                
              
              −
              1
            
          
        
      
    
    {\displaystyle f(x)={e^{{\lambda _{2}}x+{\lambda _{1}}-1}}}
  , т.е. экспонента.
Ясно, что площадь под графиком такой функции может быть конечной только в том случае, если к бесконечности устремить не более одного предела интегрирования. Поэтому будем считать, что случайная величина 
  
    
      
        X
      
    
    {\displaystyle X}
   может принимать значения только на некоторой конечной или полубесконечной области 
  
    
      
        G
      
    
    {\displaystyle G}
  , не обязательно односвязной. Во всех остальных точках функцию 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   будем считать равной нулю.
Чтобы найти значения коэффициентов 
  
    
      
        
          λ
          
            1
          
        
      
    
    {\displaystyle \lambda _{1}}
   и 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
  , нужно составить систему уравнений из наложенных на распределение условий и решить ее. Система имеет вид:

  
    
      
        
          {
          
            
              
                
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    x
                    f
                    (
                    x
                    )
                    d
                    x
                  
                  =
                  
                    ∫
                    
                      G
                    
                  
                  
                    x
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          x
                          +
                          
                            
                              λ
                              
                                1
                              
                            
                          
                          −
                          1
                        
                      
                    
                    d
                    x
                  
                  =
                  m
                
              
              
                
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    f
                    (
                    x
                    )
                    d
                    x
                  
                  =
                  
                    ∫
                    
                      G
                    
                  
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          x
                          +
                          
                            
                              λ
                              
                                1
                              
                            
                          
                          −
                          1
                        
                      
                    
                    d
                    x
                  
                  =
                  1
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}\int \limits _{-\infty }^{\infty }{xf(x)dx}=\int \limits _{G}{x{e^{{\lambda _{2}}x+{\lambda _{1}}-1}}dx}=m\\\int \limits _{-\infty }^{\infty }{f(x)dx}=\int \limits _{G}{{e^{{\lambda _{2}}x+{\lambda _{1}}-1}}dx}=1\end{array}}\right.}
   и может быть приведена к виду 
  
    
      
        
          {
          
            
              
                
                  m
                  =
                  
                    
                      
                        
                          ∫
                          
                            G
                          
                        
                        
                          x
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                x
                              
                            
                          
                          d
                          x
                        
                      
                      
                        
                          ∫
                          
                            G
                          
                        
                        
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                x
                              
                            
                          
                          d
                          x
                        
                      
                    
                  
                
              
              
                
                  
                    
                      e
                      
                        1
                        −
                        
                          
                            λ
                            
                              1
                            
                          
                        
                      
                    
                  
                  =
                  
                    ∫
                    
                      G
                    
                  
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          x
                        
                      
                    
                    d
                    x
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}m={\frac {\int \limits _{G}{x{e^{{\lambda _{2}}x}}dx}}{\int \limits _{G}{{e^{{\lambda _{2}}x}}dx}}}\\{e^{1-{\lambda _{1}}}}=\int \limits _{G}{{e^{{\lambda _{2}}x}}dx}\end{array}}\right.}
  .
Здесь все интегралы – «берущиеся», поэтому можно однозначно выразить 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
   через 
  
    
      
        m
      
    
    {\displaystyle m}
   – стоит лишь более конкретно задать область 
  
    
      
        G
      
    
    {\displaystyle G}
  . При этом найденное решение единственно.
Поскольку коэффициент 
  
    
      
        
          λ
          
            1
          
        
      
    
    {\displaystyle \lambda _{1}}
   однозначно выражается через 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
  , то и он единственен. В силу единственности найденного решения функция 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   доставляет максимум функционалу 
  
    
      
        H
      
    
    {\displaystyle H}
  . Функция 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   при этом имеет вид 
  
    
      
        f
        (
        x
        )
        =
        
          
            
              e
              
                
                  
                    λ
                    
                      2
                    
                  
                
                x
              
            
            
              
                ∫
                
                  G
                
              
              
                
                  
                    e
                    
                      
                        
                          λ
                          
                            2
                          
                        
                      
                      t
                    
                  
                
                d
                t
              
            
          
        
      
    
    {\displaystyle f(x)={\frac {e^{{\lambda _{2}}x}}{\int \limits _{G}{{e^{{\lambda _{2}}t}}dt}}}}
  .
Найденное распределение называется распределением Больцмана (или Гиббса) непрерывной случайной величины.

Известен только второй начальный момент (непрерывный случай)
Предположим, что известен только второй начальный момент 
  
    
      
        
          
            δ
            
              2
            
          
        
      
    
    {\displaystyle {\delta ^{2}}}
   распределения вероятностей некоторой непрерывной случайной величины 
  
    
      
        X
      
    
    {\displaystyle X}
  : 
  
    
      
        
          
            δ
            
              2
            
          
        
        =
        
          ∫
          
            −
            ∞
          
          
            ∞
          
        
        
          
            
              x
              
                2
              
            
          
          f
          (
          x
          )
          d
          x
        
      
    
    {\displaystyle {\delta ^{2}}=\int \limits _{-\infty }^{\infty }{{x^{2}}f(x)dx}}
  . Каково в этом случае само распределение?
Функция Лагранжа в этом случае имеет вид 
  
    
      
        L
        =
        −
        f
        (
        x
        )
        ln
        ⁡
        f
        (
        x
        )
        +
        
          
            λ
            
              1
            
          
        
        f
        (
        x
        )
        +
        
          
            λ
            
              2
            
          
        
        
          
            x
            
              2
            
          
        
        f
        (
        x
        )
      
    
    {\displaystyle L=-f(x)\ln f(x)+{\lambda _{1}}f(x)+{\lambda _{2}}{x^{2}}f(x)}
  .
Уравнение Эйлера-Лагранжа имеет вид 
  
    
      
        
          
            
              ∂
              L
            
            
              ∂
              f
            
          
        
        =
        −
        ln
        ⁡
        f
        −
        1
        +
        
          
            λ
            
              1
            
          
        
        +
        
          
            λ
            
              2
            
          
        
        
          
            x
            
              2
            
          
        
        =
        0
      
    
    {\displaystyle {\frac {\partial L}{\partial f}}=-\ln f-1+{\lambda _{1}}+{\lambda _{2}}{x^{2}}=0}
  .
Его решением является функция 
  
    
      
        f
        (
        x
        )
        =
        
          
            e
            
              
                
                  λ
                  
                    2
                  
                
              
              
                
                  x
                  
                    2
                  
                
              
              +
              
                
                  λ
                  
                    1
                  
                
              
              −
              1
            
          
        
      
    
    {\displaystyle f(x)={e^{{\lambda _{2}}{x^{2}}+{\lambda _{1}}-1}}}
  .
Ясно, что площадь под графиком 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   может быть конечной только в случае 
  
    
      
        
          λ
          
            2
          
        
        <
        0
      
    
    {\displaystyle \lambda _{2}<0}
  . Если 
  
    
      
        
          λ
          
            2
          
        
        =
        0
      
    
    {\displaystyle \lambda _{2}=0}
  , то получается равномерное распределение, которое уже было рассмотрено ранее.
Чтобы найти значения коэффициентов 
  
    
      
        
          λ
          
            1
          
        
      
    
    {\displaystyle \lambda _{1}}
   и 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
  , нужно составить систему уравнений из наложенных на распределение условий и решить ее:

  
    
      
        
          {
          
            
              
                
                  
                    
                      δ
                      
                        2
                      
                    
                  
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        x
                        
                          2
                        
                      
                    
                    f
                    (
                    x
                    )
                    d
                    x
                  
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        x
                        
                          2
                        
                      
                    
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                1
                              
                            
                          
                          −
                          1
                        
                      
                    
                    d
                    x
                  
                
              
              
                
                  1
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    f
                    (
                    x
                    )
                    d
                    x
                  
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                1
                              
                            
                          
                          −
                          1
                        
                      
                    
                    d
                    x
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{\delta ^{2}}=\int \limits _{-\infty }^{\infty }{{x^{2}}f(x)dx}=\int \limits _{-\infty }^{\infty }{{x^{2}}{e^{{\lambda _{2}}{x^{2}}+{\lambda _{1}}-1}}dx}\\1=\int \limits _{-\infty }^{\infty }{f(x)dx}=\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{2}}{x^{2}}+{\lambda _{1}}-1}}dx}\end{array}}\right.}
  
Поскольку здесь присутствует определенный интеграл Эйлера-Пуассона, то систему можно записать в виде:

  
    
      
        
          {
          
            
              
                
                  
                    
                      δ
                      
                        2
                      
                    
                  
                  =
                  
                    
                      
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              x
                              
                                2
                              
                            
                          
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                
                                  
                                    x
                                    
                                      2
                                    
                                  
                                
                              
                            
                          
                          d
                          x
                        
                      
                      
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                
                                  
                                    x
                                    
                                      2
                                    
                                  
                                
                              
                            
                          
                          d
                          x
                        
                      
                    
                  
                
              
              
                
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        x
                        
                          2
                        
                      
                    
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                        
                      
                    
                    d
                    x
                  
                  =
                  −
                  
                    
                      1
                      
                        2
                        
                          
                            λ
                            
                              2
                            
                          
                        
                      
                    
                  
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                        
                      
                    
                    d
                    x
                  
                
              
              
                
                  
                    
                      e
                      
                        1
                        −
                        
                          
                            λ
                            
                              1
                            
                          
                        
                      
                    
                  
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                        
                      
                    
                    d
                    x
                  
                  =
                  
                    
                      −
                      
                        
                          π
                          
                            λ
                            
                              2
                            
                          
                        
                      
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{\delta ^{2}}={\frac {\int \limits _{-\infty }^{\infty }{{x^{2}}{e^{{\lambda _{2}}{x^{2}}}}dx}}{\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{2}}{x^{2}}}}dx}}}\\\int \limits _{-\infty }^{\infty }{{x^{2}}{e^{{\lambda _{2}}{x^{2}}}}dx}=-{\frac {1}{2{\lambda _{2}}}}\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{2}}{x^{2}}}}dx}\\{e^{1-{\lambda _{1}}}}=\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{2}}{x^{2}}}}dx}={\sqrt {-{\frac {\pi }{\lambda _{2}}}}}\end{array}}\right.}
  , откуда окончательно 
  
    
      
        
          {
          
            
              
                
                  f
                  (
                  x
                  )
                  =
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              1
                            
                          
                        
                        −
                        1
                      
                    
                  
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              2
                            
                          
                        
                        
                          
                            x
                            
                              2
                            
                          
                        
                      
                    
                  
                  =
                  
                    
                      1
                      
                        δ
                        
                          
                            2
                            π
                          
                        
                      
                    
                  
                  
                    
                      e
                      
                        −
                        
                          
                            1
                            2
                          
                        
                        
                          
                            
                              
                                (
                                
                                  
                                    x
                                    δ
                                  
                                
                                )
                              
                            
                            
                              2
                            
                          
                        
                      
                    
                  
                
              
              
                
                  
                    
                      δ
                      
                        2
                      
                    
                  
                  =
                  −
                  
                    
                      1
                      
                        2
                        
                          
                            λ
                            
                              2
                            
                          
                        
                      
                    
                  
                
              
              
                
                  
                    
                      e
                      
                        1
                        −
                        
                          
                            λ
                            
                              1
                            
                          
                        
                      
                    
                  
                  =
                  
                    
                      −
                      
                        
                          π
                          
                            λ
                            
                              2
                            
                          
                        
                      
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}f(x)={e^{{\lambda _{1}}-1}}{e^{{\lambda _{2}}{x^{2}}}}={\frac {1}{\delta {\sqrt {2\pi }}}}{e^{-{\frac {1}{2}}{{\left({\frac {x}{\delta }}\right)}^{2}}}}\\{\delta ^{2}}=-{\frac {1}{2{\lambda _{2}}}}\\{e^{1-{\lambda _{1}}}}={\sqrt {-{\frac {\pi }{\lambda _{2}}}}}\end{array}}\right.}
  
Итак, распределение 
  
    
      
        X
      
    
    {\displaystyle X}
   является нормальным распределением с нулевым матожиданием и дисперсией 
  
    
      
        
          
            δ
            
              2
            
          
        
      
    
    {\displaystyle {\delta ^{2}}}
  .

Известны матожидание и второй начальный момент (непрерывный случай)
Функция Лагранжа в этом случае имеет вид 
  
    
      
        L
        =
        −
        f
        (
        x
        )
        ln
        ⁡
        f
        (
        x
        )
        +
        
          
            λ
            
              1
            
          
        
        f
        (
        x
        )
        +
        
          
            λ
            
              2
            
          
        
        x
        f
        (
        x
        )
        +
        
          
            λ
            
              3
            
          
        
        
          
            x
            
              2
            
          
        
        f
        (
        x
        )
      
    
    {\displaystyle L=-f(x)\ln f(x)+{\lambda _{1}}f(x)+{\lambda _{2}}xf(x)+{\lambda _{3}}{x^{2}}f(x)}
  .
Уравнение Эйлера-Лагранжа имеет вид 
  
    
      
        
          
            
              ∂
              L
            
            
              ∂
              f
            
          
        
        =
        −
        ln
        ⁡
        f
        −
        1
        +
        
          
            λ
            
              1
            
          
        
        +
        
          
            λ
            
              2
            
          
        
        x
        +
        
          
            λ
            
              3
            
          
        
        
          
            x
            
              2
            
          
        
        =
        0
      
    
    {\displaystyle {\frac {\partial L}{\partial f}}=-\ln f-1+{\lambda _{1}}+{\lambda _{2}}x+{\lambda _{3}}{x^{2}}=0}
  .
Его решением является функция 
  
    
      
        f
        (
        x
        )
        =
        
          
            e
            
              
                
                  λ
                  
                    3
                  
                
              
              
                
                  x
                  
                    2
                  
                
              
              +
              
                
                  λ
                  
                    2
                  
                
              
              x
              +
              
                
                  λ
                  
                    1
                  
                
              
              −
              1
            
          
        
      
    
    {\displaystyle f(x)={e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}}
  .
Опять примем 
  
    
      
        
          λ
          
            3
          
        
        <
        0
      
    
    {\displaystyle \lambda _{3}<0}
  .
Чтобы найти значения коэффициентов 
  
    
      
        
          λ
          
            1
          
        
      
    
    {\displaystyle \lambda _{1}}
  , 
  
    
      
        
          λ
          
            2
          
        
      
    
    {\displaystyle \lambda _{2}}
  , 
  
    
      
        
          λ
          
            3
          
        
      
    
    {\displaystyle \lambda _{3}}
  , нужно составить систему уравнений из наложенных на распределение условий и решить ее:

  
    
      
        
          {
          
            
              
                
                  
                    
                      δ
                      
                        2
                      
                    
                  
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        x
                        
                          2
                        
                      
                    
                    f
                    (
                    x
                    )
                    d
                    x
                  
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        x
                        
                          2
                        
                      
                    
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                3
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          x
                          +
                          
                            
                              λ
                              
                                1
                              
                            
                          
                          −
                          1
                        
                      
                    
                    d
                    x
                  
                
              
              
                
                  m
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    x
                    f
                    (
                    x
                    )
                    d
                    x
                  
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    x
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                3
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          x
                          +
                          
                            
                              λ
                              
                                1
                              
                            
                          
                          −
                          1
                        
                      
                    
                    d
                    x
                  
                
              
              
                
                  1
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    f
                    (
                    x
                    )
                    d
                    x
                  
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                3
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          x
                          +
                          
                            
                              λ
                              
                                1
                              
                            
                          
                          −
                          1
                        
                      
                    
                    d
                    x
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{\delta ^{2}}=\int \limits _{-\infty }^{\infty }{{x^{2}}f(x)dx}=\int \limits _{-\infty }^{\infty }{{x^{2}}{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}dx}\\m=\int \limits _{-\infty }^{\infty }{xf(x)dx}=\int \limits _{-\infty }^{\infty }{x{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}dx}\\1=\int \limits _{-\infty }^{\infty }{f(x)dx}=\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}dx}\end{array}}\right.}
  
Степень числа 
  
    
      
        e
      
    
    {\displaystyle e}
   в интегралах может быть представлена в виде: 
  
    
      
        
          
            λ
            
              3
            
          
        
        
          
            x
            
              2
            
          
        
        +
        
          
            λ
            
              2
            
          
        
        x
        =
        −
        
          
            1
            2
          
        
        
          
            
              
                
                  
                    
                      (
                      
                        x
                        −
                        
                          
                            
                              λ
                              
                                2
                              
                            
                            
                              −
                              2
                              
                                
                                  λ
                                  
                                    3
                                  
                                
                              
                            
                          
                        
                      
                      )
                    
                  
                  
                    2
                  
                
              
              −
              
                
                  
                    
                      (
                      
                        
                          
                            λ
                            
                              2
                            
                          
                          
                            −
                            2
                            
                              
                                λ
                                
                                  3
                                
                              
                            
                          
                        
                      
                      )
                    
                  
                  
                    2
                  
                
              
            
            
              1
              
                /
              
              (
              −
              2
              
                
                  λ
                  
                    3
                  
                
              
              )
            
          
        
        =
        −
        
          
            1
            2
          
        
        
          
            
              
                
                  
                    
                      (
                      
                        x
                        −
                        
                          m
                          ′
                        
                      
                      )
                    
                  
                  
                    2
                  
                
              
              −
              m
              
                
                  
                  
                    ′
                    
                      2
                    
                  
                
              
            
            D
          
        
      
    
    {\displaystyle {\lambda _{3}}{x^{2}}+{\lambda _{2}}x=-{\frac {1}{2}}{\frac {{{\left({x-{\frac {\lambda _{2}}{-2{\lambda _{3}}}}}\right)}^{2}}-{{\left({\frac {\lambda _{2}}{-2{\lambda _{3}}}}\right)}^{2}}}{1/(-2{\lambda _{3}})}}=-{\frac {1}{2}}{\frac {{{\left({x-m'}\right)}^{2}}-m{'^{2}}}{D}}}
  , где 
  
    
      
        
          m
          ′
        
        =
        
          
            
              λ
              
                2
              
            
            
              −
              2
              
                
                  λ
                  
                    3
                  
                
              
            
          
        
      
    
    {\displaystyle m'={\frac {\lambda _{2}}{-2{\lambda _{3}}}}}
  , 
  
    
      
        D
        =
        −
        
          
            1
            
              2
              
                
                  λ
                  
                    3
                  
                
              
            
          
        
      
    
    {\displaystyle D=-{\frac {1}{2{\lambda _{3}}}}}
  .
Тогда

  
    
      
        
          {
          
            
              
                
                  
                    
                      m
                      1
                    
                  
                  =
                  
                    
                      
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          x
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      3
                                    
                                  
                                
                                
                                  
                                    x
                                    
                                      2
                                    
                                  
                                
                                +
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                x
                                +
                                
                                  
                                    λ
                                    
                                      1
                                    
                                  
                                
                                −
                                1
                              
                            
                          
                          d
                          x
                        
                      
                      
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      3
                                    
                                  
                                
                                
                                  
                                    x
                                    
                                      2
                                    
                                  
                                
                                +
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                x
                                +
                                
                                  
                                    λ
                                    
                                      1
                                    
                                  
                                
                                −
                                1
                              
                            
                          
                          d
                          x
                        
                      
                    
                  
                  =
                  
                    
                      
                        
                          
                            1
                            
                              D
                              2
                              π
                            
                          
                        
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          x
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      3
                                    
                                  
                                
                                
                                  
                                    x
                                    
                                      2
                                    
                                  
                                
                                +
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                x
                              
                            
                          
                          d
                          x
                        
                      
                      
                        
                          
                            1
                            
                              D
                              2
                              π
                            
                          
                        
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      3
                                    
                                  
                                
                                
                                  
                                    x
                                    
                                      2
                                    
                                  
                                
                                +
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                x
                              
                            
                          
                          d
                          x
                        
                      
                    
                  
                  =
                  
                    
                      
                        
                          
                            1
                            
                              D
                              2
                              π
                            
                          
                        
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          x
                          
                            
                              e
                              
                                −
                                
                                  
                                    1
                                    2
                                  
                                
                                
                                  
                                    
                                      
                                        
                                          
                                            
                                              (
                                              
                                                x
                                                −
                                                
                                                  m
                                                  ′
                                                
                                              
                                              )
                                            
                                          
                                          
                                            2
                                          
                                        
                                      
                                      −
                                      m
                                      
                                        
                                          
                                          
                                            ′
                                            
                                              2
                                            
                                          
                                        
                                      
                                    
                                    D
                                  
                                
                              
                            
                          
                          d
                          x
                        
                      
                      
                        
                          
                            1
                            
                              D
                              2
                              π
                            
                          
                        
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              e
                              
                                −
                                
                                  
                                    1
                                    2
                                  
                                
                                
                                  
                                    
                                      
                                        
                                          
                                            
                                              (
                                              
                                                x
                                                −
                                                
                                                  m
                                                  ′
                                                
                                              
                                              )
                                            
                                          
                                          
                                            2
                                          
                                        
                                      
                                      −
                                      m
                                      
                                        
                                          
                                          
                                            ′
                                            
                                              2
                                            
                                          
                                        
                                      
                                    
                                    D
                                  
                                
                              
                            
                          
                          d
                          x
                        
                      
                    
                  
                  =
                  
                    
                      
                        m
                        ′
                      
                      1
                    
                  
                
              
              
                
                  
                    
                      
                        δ
                        
                          2
                        
                      
                      1
                    
                  
                  =
                  
                    
                      
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              x
                              
                                2
                              
                            
                          
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      3
                                    
                                  
                                
                                
                                  
                                    x
                                    
                                      2
                                    
                                  
                                
                                +
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                x
                                +
                                
                                  
                                    λ
                                    
                                      1
                                    
                                  
                                
                                −
                                1
                              
                            
                          
                          d
                          x
                        
                      
                      
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              e
                              
                                
                                  
                                    λ
                                    
                                      3
                                    
                                  
                                
                                
                                  
                                    x
                                    
                                      2
                                    
                                  
                                
                                +
                                
                                  
                                    λ
                                    
                                      2
                                    
                                  
                                
                                x
                                +
                                
                                  
                                    λ
                                    
                                      1
                                    
                                  
                                
                                −
                                1
                              
                            
                          
                          d
                          x
                        
                      
                    
                  
                  =
                  
                    
                      
                        
                          
                            1
                            
                              D
                              2
                              π
                            
                          
                        
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              x
                              
                                2
                              
                            
                          
                          
                            
                              e
                              
                                −
                                
                                  
                                    1
                                    2
                                  
                                
                                
                                  
                                    
                                      
                                        
                                          
                                            
                                              (
                                              
                                                x
                                                −
                                                
                                                  m
                                                  ′
                                                
                                              
                                              )
                                            
                                          
                                          
                                            2
                                          
                                        
                                      
                                      −
                                      m
                                      
                                        
                                          
                                          
                                            ′
                                            
                                              2
                                            
                                          
                                        
                                      
                                    
                                    D
                                  
                                
                              
                            
                          
                          d
                          x
                        
                      
                      
                        
                          
                            1
                            
                              D
                              2
                              π
                            
                          
                        
                        
                          ∫
                          
                            −
                            ∞
                          
                          
                            ∞
                          
                        
                        
                          
                            
                              e
                              
                                −
                                
                                  
                                    1
                                    2
                                  
                                
                                
                                  
                                    
                                      
                                        
                                          
                                            
                                              (
                                              
                                                x
                                                −
                                                
                                                  m
                                                  ′
                                                
                                              
                                              )
                                            
                                          
                                          
                                            2
                                          
                                        
                                      
                                      −
                                      m
                                      
                                        
                                          
                                          
                                            ′
                                            
                                              2
                                            
                                          
                                        
                                      
                                    
                                    D
                                  
                                
                              
                            
                          
                          d
                          x
                        
                      
                    
                  
                  =
                  
                    
                      1
                      
                        D
                        2
                        π
                      
                    
                  
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        x
                        
                          2
                        
                      
                    
                    
                      
                        e
                        
                          −
                          
                            
                              1
                              2
                            
                          
                          
                            
                              
                                
                                  
                                    (
                                    
                                      x
                                      −
                                      
                                        m
                                        ′
                                      
                                    
                                    )
                                  
                                
                                
                                  2
                                
                              
                              D
                            
                          
                        
                      
                    
                    d
                    x
                  
                  =
                  D
                  +
                  m
                  
                    
                      
                      
                        ′
                        
                          2
                        
                      
                    
                  
                
              
              
                
                  1
                  =
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        e
                        
                          
                            
                              λ
                              
                                3
                              
                            
                          
                          
                            
                              x
                              
                                2
                              
                            
                          
                          +
                          
                            
                              λ
                              
                                2
                              
                            
                          
                          x
                          +
                          
                            
                              λ
                              
                                1
                              
                            
                          
                          −
                          1
                        
                      
                    
                    d
                    x
                  
                  =
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              1
                            
                          
                        
                        −
                        1
                      
                    
                  
                  
                    ∫
                    
                      −
                      ∞
                    
                    
                      ∞
                    
                  
                  
                    
                      
                        e
                        
                          −
                          
                            
                              1
                              2
                            
                          
                          
                            
                              
                                
                                  
                                    
                                      
                                        (
                                        
                                          x
                                          −
                                          
                                            m
                                            ′
                                          
                                        
                                        )
                                      
                                    
                                    
                                      2
                                    
                                  
                                
                                −
                                m
                                
                                  
                                    
                                    
                                      ′
                                      
                                        2
                                      
                                    
                                  
                                
                              
                              D
                            
                          
                        
                      
                    
                    d
                    x
                  
                  =
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              1
                            
                          
                        
                        −
                        1
                        +
                        
                          
                            
                              m
                              
                                
                                  
                                  
                                    ′
                                    
                                      2
                                    
                                  
                                
                              
                            
                            
                              2
                              D
                            
                          
                        
                      
                    
                  
                  
                    
                      D
                      2
                      π
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}{\frac {m}{1}}={\frac {\int \limits _{-\infty }^{\infty }{x{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}dx}}{\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}dx}}}={\frac {{\frac {1}{\sqrt {D2\pi }}}\int \limits _{-\infty }^{\infty }{x{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x}}dx}}{{\frac {1}{\sqrt {D2\pi }}}\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x}}dx}}}={\frac {{\frac {1}{\sqrt {D2\pi }}}\int \limits _{-\infty }^{\infty }{x{e^{-{\frac {1}{2}}{\frac {{{\left({x-m'}\right)}^{2}}-m{'^{2}}}{D}}}}dx}}{{\frac {1}{\sqrt {D2\pi }}}\int \limits _{-\infty }^{\infty }{{e^{-{\frac {1}{2}}{\frac {{{\left({x-m'}\right)}^{2}}-m{'^{2}}}{D}}}}dx}}}={\frac {m'}{1}}\\{\frac {\delta ^{2}}{1}}={\frac {\int \limits _{-\infty }^{\infty }{{x^{2}}{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}dx}}{\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}dx}}}={\frac {{\frac {1}{\sqrt {D2\pi }}}\int \limits _{-\infty }^{\infty }{{x^{2}}{e^{-{\frac {1}{2}}{\frac {{{\left({x-m'}\right)}^{2}}-m{'^{2}}}{D}}}}dx}}{{\frac {1}{\sqrt {D2\pi }}}\int \limits _{-\infty }^{\infty }{{e^{-{\frac {1}{2}}{\frac {{{\left({x-m'}\right)}^{2}}-m{'^{2}}}{D}}}}dx}}}={\frac {1}{\sqrt {D2\pi }}}\int \limits _{-\infty }^{\infty }{{x^{2}}{e^{-{\frac {1}{2}}{\frac {{\left({x-m'}\right)}^{2}}{D}}}}dx}=D+m{'^{2}}\\1=\int \limits _{-\infty }^{\infty }{{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x+{\lambda _{1}}-1}}dx}={e^{{\lambda _{1}}-1}}\int \limits _{-\infty }^{\infty }{{e^{-{\frac {1}{2}}{\frac {{{\left({x-m'}\right)}^{2}}-m{'^{2}}}{D}}}}dx}={e^{{\lambda _{1}}-1+{\frac {m{'^{2}}}{2D}}}}{\sqrt {D2\pi }}\end{array}}\right.}
  ,
откуда

  
    
      
        
          {
          
            
              
                
                  m
                  =
                  
                    m
                    ′
                  
                  =
                  
                    
                      
                        λ
                        
                          2
                        
                      
                      
                        −
                        2
                        
                          
                            λ
                            
                              3
                            
                          
                        
                      
                    
                  
                
              
              
                
                  
                    
                      δ
                      
                        2
                      
                    
                  
                  −
                  
                    
                      m
                      
                        2
                      
                    
                  
                  =
                  
                    
                      δ
                      
                        2
                      
                    
                  
                  −
                  m
                  
                    
                      
                      
                        ′
                        
                          2
                        
                      
                    
                  
                  =
                  D
                  =
                  −
                  
                    
                      1
                      
                        2
                        
                          
                            λ
                            
                              3
                            
                          
                        
                      
                    
                  
                
              
              
                
                  
                    
                      e
                      
                        
                          
                            λ
                            
                              1
                            
                          
                        
                        −
                        1
                      
                    
                  
                  =
                  
                    
                      
                        e
                        
                          −
                          
                            
                              
                                m
                                
                                  2
                                
                              
                              
                                2
                                D
                              
                            
                          
                        
                      
                      
                        D
                        2
                        π
                      
                    
                  
                
              
            
          
          
        
      
    
    {\displaystyle \left\{{\begin{array}{l}m=m'={\frac {\lambda _{2}}{-2{\lambda _{3}}}}\\{\delta ^{2}}-{m^{2}}={\delta ^{2}}-m{'^{2}}=D=-{\frac {1}{2{\lambda _{3}}}}\\{e^{{\lambda _{1}}-1}}={\frac {e^{-{\frac {m^{2}}{2D}}}}{\sqrt {D2\pi }}}\end{array}}\right.}
  .
Очевидно, что 
  
    
      
        D
      
    
    {\displaystyle D}
   является дисперсией распределения 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
  .
Окончательно функцию 
  
    
      
        f
        (
        x
        )
      
    
    {\displaystyle f(x)}
   можно записать в виде 
  
    
      
        f
        (
        x
        )
        =
        
          
            e
            
              
                
                  λ
                  
                    1
                  
                
              
              −
              1
            
          
        
        
          
            e
            
              
                
                  λ
                  
                    3
                  
                
              
              
                
                  x
                  
                    2
                  
                
              
              +
              
                
                  λ
                  
                    2
                  
                
              
              x
            
          
        
        =
        
          
            
              e
              
                −
                
                  
                    
                      m
                      
                        2
                      
                    
                    
                      2
                      D
                    
                  
                
              
            
            
              D
              2
              π
            
          
        
        
          
            e
            
              −
              
                
                  1
                  2
                
              
              
                
                  
                    
                      
                        
                          
                            (
                            
                              x
                              −
                              
                                m
                                ′
                              
                            
                            )
                          
                        
                        
                          2
                        
                      
                    
                    −
                    m
                    
                      
                        
                        
                          ′
                          
                            2
                          
                        
                      
                    
                  
                  D
                
              
            
          
        
        =
        
          
            1
            
              D
              2
              π
            
          
        
        
          
            e
            
              −
              
                
                  1
                  2
                
              
              
                
                  
                    
                      
                        (
                        
                          x
                          −
                          m
                        
                        )
                      
                    
                    
                      2
                    
                  
                  D
                
              
            
          
        
      
    
    {\displaystyle f(x)={e^{{\lambda _{1}}-1}}{e^{{\lambda _{3}}{x^{2}}+{\lambda _{2}}x}}={\frac {e^{-{\frac {m^{2}}{2D}}}}{\sqrt {D2\pi }}}{e^{-{\frac {1}{2}}{\frac {{{\left({x-m'}\right)}^{2}}-m{'^{2}}}{D}}}}={\frac {1}{\sqrt {D2\pi }}}{e^{-{\frac {1}{2}}{\frac {{\left({x-m}\right)}^{2}}{D}}}}}
  .
Итак, получилось нормальное распределение с матожиданием 
  
    
      
        m
      
    
    {\displaystyle m}
   и дисперсией 
  
    
      
        D
      
    
    {\displaystyle D}
  .
Легко заметить, что изначально можно было задать не второй начальный момент распределения, а его дисперсию, и все равно получилось бы нормальное распределение с заданными параметрами.

Таблица экстремальных распределений
В таблице ниже каждое перечисленное распределение максимизирует энтропию при наложенных на распределение условиях, указанных в третьем столбце. В четвертом столбце указана область определения случайной величины.

См. также
Информационный критерий Акаике
Диссипация энергии
Информационная энтропия
Метод максимального правдоподобия
Задача о двух конвертах

Примечания
Литература
Голицын Г.А. Информация и творчество. — М.: Русский мир, 1997. — 304 с. — ISBN 5-85810-039-2.
Ю. Г. Рудой. Обобщенная информационная энтропия и неканоническое распределение в равновесной статистической механике
Jaynes, E. T. Information Theory and Statistical Mechanics // Statistical Physics / Ford, K. (ed.). — New York : Benjamin, 1963. — P. 181.
Jaynes, E. T., 1986 (new version online 1996), 'Monkeys, kangaroos and 
  
    
      
        N
      
    
    {\displaystyle N}
  ', in Maximum-Entropy and Bayesian Methods in Applied Statistics, J. H. Justice (ed.), Cambridge University Press, Cambridge, p. 26.
Bajkova, A. T., 1992, The generalization of maximum entropy method for reconstruction of complex functions. Astronomical and Astrophysical Transactions, V.1, issue 4, p. 313—320.
Giffin, A. and Caticha, A., 2007, Updating Probabilities with Data and Moments
Guiasu, S. and Shenitzer, A., 1985, 'The principle of maximum entropy', The Mathematical Intelligencer, 7(1), 42-48.
Harremoës P. and Topsøe F., 2001, Maximum Entropy Fundamentals, Entropy, 3(3), 191—226.
Kapur, J. N.; and Kesavan, H. K., 1992, Entropy optimization principles with applications, Boston: Academic Press. ISBN 0-12-397670-7
Kitamura, Y., 2006, Empirical Likelihood Methods in Econometrics: Theory and Practice, Cowles Foundation Discussion Papers 1569, Cowles Foundation, Yale University.
Lazar, N., 2003, «Bayesian Empirical Likelihood», Biometrika, 90, 319—326.
Owen, A. B., Empirical Likelihood, Chapman and Hall.
Schennach, S. M., 2005, «Bayesian Exponentially Tilted Empirical Likelihood», Biometrika, 92(1), 31-46.
Uffink, Jos, 1995, 'Can the Maximum Entropy Principle be explained as a consistency requirement?', Studies in History and Philosophy of Modern Physics 26B, 223—261.

Ссылки
Maximum Entropy Modeling
MaxEnt and Exponential Models