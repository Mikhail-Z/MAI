{% extends "hospitalapp/doctor_base.html" %}

{% block title %}
История посещений пациента
{% endblock %}

{% block header %}
История посещений пациента
{% endblock %}

{% block script %}
<script src="/static/js/patient_search_from_issues_history.js"></script>
<script src="/static/js/date_parser.js"></script>
{% endblock %}

{% block content %}

        <div>
            <div class="form-group" id="patient_identification">
                <label for="full_name_input">ФИО</label>
                <input id="full_name_input" class="form-control">
            </div>
            <div class="pre-scrollable" style="height: 200px">
                <table id="patient_search_table" class="table table-hover">
                    <thead>
                        <tr>
                            <th>Фамилия</th>
                            <th>Имя</th>
                            <th>Отчество</th>
                            <th>Дата рождения</th>
                            <th>Номер полиса</th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </div>
        <div id="admissions_filter" style="margin-top: 50px">
            <div class="form-group">
                <label>Дата приема:</label>
                <label for="admission_date_from">от</label><input id="admission_date_from" size="10">
                <label for="admission_date_to">до</label><input id="admission_date_to" size="10">
            </div>
            <div class="form-group">
                <label>Цель посещения</label>
                <select id="visit_purpose_select">
                    <option onclick="FILTERS.visit_purpose = null">Любая</option>
                {% for visit_purpose in visit_purposes %}
                    <option onclick="FILTERS.visit_purpose = this.data('visit_purpose_id'); console.log(FILTERS.visit_purpose);" data-visit_purpose="{{ visit_purpose.value }}">
                        {{ visit_purpose.value }}
                    </option>
                {% endfor %}
                </select>

                <label>Специализация</label>
                <select id="specialization_select">
                    <option onclick="FILTERS.specialization = null">Любая</option>
                {% for specialization in specializations %}
                    <option onclick="FILTERS.specialization = this.data('specialization_id');" data-specialization="{{ specialization.specialization_name }}">
                        {{ specialization.specialization_name }}
                    </option>
                {% endfor %}
                </select>
                <button class="btn btn-primary" id="admissions_search_btn">Поиск</button>
            </div>
        </div>
        <div>
            <table class="table table-striped" id="admissions_table">
                <thead>
                    <tr>
                        <th>Специализация врача</th>
                        <th>Цель посещения</th>
                        <th>Дата приёма</th>
                        <th>Фамилия</th>
                        <th>Имя</th>
                        <th>Отчество</th>
                    </tr>
                </thead>
                <tbody id="admissions_tbody">

                </tbody>
            </table>
        </div>


<script src="/static/js/patient_search_from_issues_history.js"></script>
{% endblock %}